/*!CK:1823497579!*//*1427087076,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Kkn4F"]); }

__d("BirthdayRemindersCounterEvent",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={OPEN_MODAL:"open_modal",PHOTO_FLOW_WITHOUT_PERSONALIZED:"photo_flow_without_personalized",PHOTO_FLOW_WITH_PERSONALIZED:"photo_flow_with_personalized",ADD_PERSONALIZED_PHOTO:"add_personalized_photo",CLICK_ALBUM:"click_album",ADD_ALBUM_PHOTO:"add_album_photo",SELFIE_FLOW:"selfie_flow",ADD_SELFIE:"add_selfie",ADD_UPLOADED:"add_uploaded",POST_WITH_PHOTO:"post_with_photo",POST_WITHOUT_PHOTO:"post_without_photo",POST_NON_SCHEDULED:"post_non_scheduled",POST_SCHEDULED:"post_scheduled",CANCEL_SCHEDULED_MODAL:"cancel_scheduled_modal",CANCEL_SCHEDULED_TIMELINE:"cancel_scheduled_timeline"};},null);
__d("ChatSidebarSections",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MORE_ONLINE_FRIENDS:"more_online_friends",MORE_ONLINE_COWORKERS:"more_online_coworkers",OFFLINE_USERS:"offline_users",ORDERED_LIST:"ordered_list",ORDERED_COWORKERS:"ordered_coworkers",TYPEAHEAD:"typeahead"};},null);
__d("ItunesPluginLogging",["Run","Bootloader"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={logPluginData:function(){g.onAfterLoad(function(){var i=b('Bootloader');i.loadModules(["ItunesDetector","AsyncRequest"],function(j,k){new k().setURI('/ajax/ads/media/log').setData({status:j.hasItunes()}).send();});});}};e.exports=h;},null);
__d("AppsDivebarDisplayController",["AppsDivebarConfigData","AsyncRequest","Arbiter","CSS","UIPagelet","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m='173',n={isVisible:function(){if(typeof(this._visible)!='undefined')return this._visible;this._visible=!g.hidden;return this._visible;},showApps:function(){this._visible=true;var o={fb_source_category:'sidebar'};k.loadFromEndpoint('GamesDivebarPagelet','pagelet_canvas_nav_content',o);j.show('apps_gripper');j.show('pagelet_canvas_nav_content');j.addClass('pagelet_canvas_nav_content',"_4woj");i.inform('AppsDivebar/show-apps');new h('/ajax/feed/apps/resize').setData({height:''+m,menu:true}).setMethod('POST').send();},hideApps:function(){this._visible=false;i.inform('AppsDivebar/hide-apps');j.hide('pagelet_canvas_nav_content');j.hide('apps_gripper');new h('/ajax/feed/apps/resize').setData({height:'1',menu:true}).setMethod('POST').send();}};e.exports=n;},null);
__d("AsyncLoader",["copyProperties","AsyncRequest","BaseAsyncLoader"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k,l){this._endpoint=k;this._type=l;}g(j.prototype,i.prototype);j.prototype.send=function(k,l,m,n,o){new h(k).setData({ids:l}).setHandler(n).setErrorHandler(o).setAllowCrossPageTransition(true).setMethod('GET').setReadOnly(true).send();};e.exports=j;},null);
__d("CalendarUI",["Event","Arbiter","AsyncRequest","CSS","DOM","DOMQuery","DOMScroll","Hovercard","Parent","Run","ScrollAwareDOM","Style","UIPagelet","Vector","ViewportBounds","$","copyProperties","ge","goURI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();function z(){}w(z,{EVENT_ACTION:'EVENT_ACTION',_todayButton:null,_todayElement:null,_upPager:null,_months:[],_timestamp:null,_registeredReminders:false,init:function(){h.subscribe(this.EVENT_ACTION,function(ba,ca){s.loadFromEndpoint('CalendarHeaderPagelet','pagelet_calendar_header',JSON.parse(ca.actioncontext));});var aa=u.addTop(function(){var ba=x('pagelet_calendar_header');if(ba&&r.isFixed(ba.firstChild)){var ca=ba.firstChild.getBoundingClientRect();return ca.bottom;}return 0;});p.onLeave(function(){aa.remove();});},initGridItem:function(aa,ba){g.listen(aa,'click',function(event){if(o.byTag(event.getTarget(),'a'))return;i.bootstrap(ba,aa);return;});},pageUp:function(){j.removeClass(this._upPager.parentNode,'fbCalendarNoPadding');j.addClass(this._upPager.parentNode,'pvl');if(this._upPager)this._upPager.click();},getScrollFunction:function(aa){var ba=this;return function(event){var ca=o.byClass(event.getTarget(),'fbCalendarBox'),da=ba._months.indexOf(ca);if(aa&&da===0){ba.pageUp();}else ba.scrollTo(ba._months[da+(aa?-1:1)],true);};},registerArrowHandlers:function(aa,ba){g.listen(aa,'click',this.getScrollFunction(true));g.listen(ba,'click',this.getScrollFunction(false));},initScrollItem:function(aa,ba){g.listen(aa,'click',this.scrollTo.bind(this,ba));},scrollTo:function(aa,ba){aa=l.isNode(aa)?aa:x(aa);var ca=0,da=40;if(aa){var ea=t.getElementPosition(v('fbCalendarWrapper')).y,fa;if(document.getElementById('headerArea')){fa=t.getElementDimensions(v('headerArea')).y;}else{fa=0;da=12;}var ga=t.getElementPosition(aa).y;ca=ga-ea-fa+da;}else ca=t.getElementPosition(v('bottomContent')).y;m.scrollTo(new t(0,ca,'document'),ba!==false);},initUnhide:function(aa,ba){g.listen(aa,'click',function(event){var ca=o.byClass(ba,'fbCalendarItem');k.remove(ba);j.removeClass(k.find(ca,'.fbHiddenCalendarItem'),'fbHiddenCalendarItem');});},registerMonth:function(aa,ba){if(!this._timestamp||ba>this._timestamp){this._months.push(aa);}else this._months.unshift(aa);this._timestamp=ba;},registerHomepageReminders:function(){if(!this._registeredReminders){h.subscribe(this.EVENT_ACTION,function(aa,ba){if(x('pagelet_reminders'))s.loadFromEndpoint('RemindersPagelet','pagelet_reminders');});this._registeredReminders=true;}},registerTodayClickHandler:function(){this._todayButton.onclick=null;g.listen(this._todayButton,'click',this.scrollTo.bind(this,this._todayElement));},registerUpPagerButton:function(aa){var ba=l.isNode(aa)?aa:x(aa);j.removeClass(ba,'pvl');j.removeClass(ba,'hidden_elem');j.addClass(ba,'fbCalendarNoPadding');if(ba){this._upPager=v(ba.getElementsByTagName('a')[0]);}else this._upPager=null;},registerTodayElement:function(aa){this._todayElement=l.isNode(aa)?aa:x(aa);this._todayButton&&this.registerTodayClickHandler();},registerTodayButton:function(aa){this._todayButton=aa;this._todayElement&&this.registerTodayClickHandler();},registerEventLink:function(aa,ba){h.subscribe(this.EVENT_ACTION,function(ca,da){if(da.eid===ba)switch(da.action){case 'GOING':j.removeClass(aa.parentNode,"hidden_elem");j.addClass(aa,"fbCalendarEventGoing");break;case 'MAYBE':j.removeClass(aa.parentNode,"hidden_elem");j.removeClass(aa,"fbCalendarEventGoing");break;case 'DECLINED':case 'HIDDEN':n.hide(true);j.addClass(aa.parentNode,"hidden_elem");break;case 'EDITED':if(da.name)k.setContent(aa,da.name);if(da.day){var ea=x("pagelet_calendar_day_"+da.day);if(ea){var fa=l.find(ea,".fbCalendarGridEventList");if(l.scry(fa,"li").length>=4){j.addClass(aa.parentNode,"hidden_elem");s.loadFromEndpoint("CalendarDayPagelet","pagelet_calendar_day_"+da.day,{day:da.timestamp});}else k.prependContent(fa,aa.parentNode);}else j.addClass(aa.parentNode,"hidden_elem");}break;}});},informEventGoing:function(aa,ba){h.inform(this.EVENT_ACTION,{eid:aa,action:'GOING',actioncontext:ba});},informEventMaybe:function(aa,ba){h.inform(this.EVENT_ACTION,{eid:aa,action:'MAYBE',actioncontext:ba});},informEventDeclined:function(aa,ba){h.inform(this.EVENT_ACTION,{eid:aa,action:'DECLINED',actioncontext:ba});},informEventHidden:function(aa,ba){h.inform(this.EVENT_ACTION,{eid:aa,action:'HIDDEN',actioncontext:ba});},informEventEdited:function(aa,ba,ca,da){h.inform(this.EVENT_ACTION,{eid:aa,action:'EDITED',name:ba,day:ca,timestamp:da});},removeCalendarListHeader:function(aa){var ba=k.scry(aa,"^.fbCalendarOverlay .fbCalendarItem"),ca=k.find(aa,"^.fbCalendarItem");if(ba.length==1)ca=k.find(aa,"^.fbCalendarOverlay");k.remove(ca);},reloadPage:function(){y(window.location);},unhide:function(aa){setTimeout(function(){q.monitor(aa.nextSibling,j.show.bind(null,aa));},0);}});e.exports=z;},null);
__d("BuddyListNub",["Arbiter","AvailableList","BlackbirdUpsell","ChannelConnection","ChannelConstants","ChatConfig","ChatSidebar","ChatVisibility","CSS","Dock","DOM","Event","JSLogger","JSXDOM","KeyEventController","Keys","NubController","OrderedFriendsList","Parent","PresencePrivacy","PresenceStatus","Toggler","csx","cx","setTimeoutAcrossTransitions","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){b.__markCompiled&&b.__markCompiled();var ga=32,ha=s.create('buddylist_nub');for(var ia in w)if(w.hasOwnProperty(ia))ka[ia]=w[ia];var ja=w===null?null:w.prototype;ka.prototype=Object.create(ja);ka.prototype.constructor=ka;ka.__superConstructor__=w;function ka(la,ma,na){"use strict";w.call(this);ja.init.call(this,la);this.root=la;this.orderedList=ma;this.typeahead=na;this.button=q.find(la,'a.fbNubButton');this.unreadCount=q.find(la,"span._5ayx");this.label=q.find(la,'span.label');this.body=q.scry(la,'div.fbNubFlyoutBody')[0];this.container=y.byClass(la,"_56ox");this.typeaheadContainer=q.find(la,'.fbChatTypeaheadViewContainer');var oa=q.find(la,'div.fbNubFlyoutTitlebar');ba.createInstance(oa).setSticky(false);ma.subscribe('render',this.flyoutContentChanged.bind(this));ma.setScrollContainer(this.body);h.subscribe('buddylist/availability-changed',this._updateCount.bind(this));g.subscribe('chat/connect',this._handleConnect.bind(this));g.subscribe('chat/option-changed',function(pa,qa){if(qa.name=='hide_groups')this.onResize();}.bind(this));z.subscribe('privacy-user-presence-changed',this._handleVisibilityChange.bind(this));this.message=q.find(la,"div._4mq1");this.warningMsgText=null;this.warningMsgEventListener=null;this.showWarningTimeout=null;j.subscribe(j.CONNECTED,this._handleChannelConnected.bind(this));j.subscribe(j.SHUTDOWN,this._handleChannelShutdown.bind(this));j.subscribe(j.RECONNECTING,this._handleChannelReconnecting.bind(this));j.subscribe([j.MUTE_WARNING,j.UNMUTE_WARNING],this._updateView.bind(this));this.subscribe('show',this.onShow.bind(this));this.subscribe('hide',this.onHide.bind(this));this.subscribe('resize',this.onResize.bind(this));r.listen(la,'keydown',this._onKeyDown.bind(this));r.listen(this.button,'click',this.onButtonClick.bind(this));u.registerKey('q',function(event){if(this._isOpen){na.getCore().getElement().focus();}else{this.onButtonClick();this.show();}event.prevent();}.bind(this));na.getCore().subscribe('escape',this.hide.bind(this));na.subscribe(['respond','reset'],function(pa,qa){if(this._isOpen){if(qa&&qa.value&&qa.value===na.getCore().getValue()&&na.getView().isVisible()){p.setUseMaxHeight(this.root,false);this._hideBuddyList();}else this._showBuddyList();this.flyoutContentChanged();}}.bind(this));g.subscribe('sidebar/show',this.hide.bind(this));g.subscribe('minisidebar/show',this.hide.bind(this));g.subscribe('sidebar/hide',this._onSidebarHide.bind(this));this._orderedListCount=x.getList().length;g.inform('buddylist-nub/initialized',this,g.BEHAVIOR_PERSISTENT);this._handleVisibilityChange();ha.log('buddylist_initialized');}ka.prototype.getButton=function(){"use strict";return this.button;};ka.prototype.getRoot=function(){"use strict";return this.root;};ka.prototype._handleConnect=function(la){"use strict";this._updateView(true);};ka.prototype._getShutdownReason=function(la){"use strict";switch(la){case k.HINT_AUTH:return fa._("Your session has timed out. Please log in.");case k.HINT_CONN:return fa._("Facebook {Chat} is currently unavailable.",[fa.param("Chat",fa._("Chat"))]);case k.HINT_MAINT:return fa._("Facebook {Chat} is currently down for maintenance.",[fa.param("Chat",fa._("Chat"))]);default:return fa._("Facebook {Chat} is currently unavailable.",[fa.param("Chat",fa._("Chat"))]);}};ka.prototype._getReconnectMsg=function(la){"use strict";var ma;if(la===null||false===navigator.onLine){ma=fa._("Unable to connect to chat. Check your Internet connection.");}else if(la>l.get('warning_countdown_threshold_msec')){var na=q.create('a',{href:'#',className:'fbChatReconnectLink'},fa._("Try again")),oa=q.create('div',null,na),pa=oa.innerHTML;ma=fa._("Unable to connect to chat. {try-again-link}",[fa.param("try-again-link",pa)]);}else if(la>1000){ma=fa._("Unable to connect to chat. Reconnecting in {seconds}...",[fa.param("seconds",Math.floor(la/1000))]);}else ma=fa._("Unable to connect to chat. Reconnecting...");return ma;};ka.prototype._resetShowWarningTimeout=function(){"use strict";if(this.showWarningTimeout){clearTimeout(this.showWarningTimeout);this.showWarningTimeout=null;}};ka.prototype._handleChannelConnected=function(la){"use strict";this._resetShowWarningTimeout();if(this.orderedList.isVisible())n.goOnline();this.warningMsgText=null;this._updateView();};ka.prototype._handleChannelShutdown=function(la,ma){"use strict";this._resetShowWarningTimeout();this.warningMsgText=this._getShutdownReason(ma);this._updateView();};ka.prototype._handleChannelReconnecting=function(la,ma){"use strict";this._resetShowWarningTimeout();this.warningMsgText=this._getReconnectMsg(ma);if(ma>1000){if(ma>l.get('warning_countdown_threshold_msec')){if(this.warningMsgEventListener){this.warningMsgEventListener.remove();this.warningMsgEventListener=null;}this.warningMsgEventListener=r.listen(this.message,'click',function(event){if(o.hasClass(event.getTarget(),'fbChatReconnectLink')){this._tryReconnect();event.kill();}}.bind(this));}this.showWarningTimeout=ea(this._handleChannelReconnecting.bind(this,la,ma-1000),1000);}this._updateView();};ka.prototype._tryReconnect=function(){"use strict";if(j.disconnected())j.reconnect();};ka.prototype._handleVisibilityChange=function(){"use strict";this._updateView();if(i.shouldShow()){if(n.hasBlackbirdEnabled()){i.showBlackbirdDialog(this.getButton(),z.getVisibility());}else if(!n.isOnline())i.showOfflineDialog(this.getButton());}else i.hide();if(!n.isOnline())this.hide();};ka.prototype._updateView=function(la){"use strict";var ma=this.container;if(ma){o.conditionClass(ma,'offline',!n.isOnline());o.conditionClass(ma,'error',j.disconnected());}if(j.disconnected())q.setContent(this.message,this.warningMsgText);var na,oa;if(!n.isOnline()){na=fa._("{Chat} (Off)",[fa.param("Chat",fa._("Chat"))]);}else if(j.disconnected()){na=fa._("{Chat} (Disconnected)",[fa.param("Chat",fa._("Chat"))]);}else{var pa=aa.getOnlineCount();if(pa){var qa=t.span({className:"count"},"(",pa,")");na=fa._({"*":"{Chat} {number-available}"},[fa.param("Chat",fa._("Chat")),fa.param("number-available",qa,[0,pa])]);}else{na=fa._("Chat");oa=true;}}this._setUnread(this._unreadMessageCount);this._setLabel(na,oa);this.buttonContentChanged();};ka.prototype.onButtonClick=function(){"use strict";if(o.shown(this.typeahead.getElement())){var la=this.subscribe('show',function(){this.typeahead.getCore().getElement().focus();i.dismiss();}.bind(this));setTimeout(this.unsubscribe.bind(this,la),0);}};ka.prototype.onHide=function(){"use strict";this._isOpen=false;if(this._buddyListRenderSubscription){this.orderedList.unsubscribe(this._buddyListRenderSubscription);this._buddyListRenderSubscription=null;}this._hideBuddyList();this.typeahead.getCore().reset();};ka.prototype._onKeyDown=function(event){"use strict";var la=r.getKeyCode(event);if(la===v.ESC&&!o.hasClass(this.root,'menuOpened')){this.hide();return false;}else if(la==v.RETURN)m.enable();};ka.prototype._onSidebarHide=function(event){"use strict";this.getButton().focus();};ka.prototype.onResize=function(){"use strict";var la=p.getMaxFlyoutHeight(this.root)-60,ma=Math.max(250,la);this.orderedList.setNumTopFriends(Math.floor(ma/ga));};ka.prototype._showBuddyList=function(){"use strict";if(!this._buddyListRenderSubscription)this._buddyListRenderSubscription=this.orderedList.subscribe('render',p.setUseMaxHeight.bind(p,this.root,false));o.hide(this.typeaheadContainer);this.orderedList.show();ha.bump('buddylist_show');};ka.prototype._hideBuddyList=function(){"use strict";o.show(this.typeaheadContainer);this.orderedList.hide();ha.bump('buddylist_hide');};ka.prototype.onShow=function(){"use strict";this._isOpen=true;if(j.disconnected()){this._tryReconnect();this._showBuddyList();}else n.goOnline(this._showBuddyList.bind(this));};ka.prototype._setLabel=function(la,ma){"use strict";var na=this.label.cloneNode(true);q.setContent(na,la);q.replace(this.label,na);this.label=na;this.throbber&&o.conditionShow(this.throbber,!!ma);};ka.prototype._setUnread=function(la){"use strict";o.conditionShow(this.unreadCount,!!la);if(la){la=t.span({className:"_51jx _5ayw"},la);q.setContent(this.unreadCount,la);}};ka.prototype._updateCount=function(){"use strict";this._updateView();};e.exports=ka;},null);
__d("ChatHovercard",["Arbiter","AsyncLoader","Bootloader","JSLogger","debounce"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=5,m=new h('/ajax/chat/hovercard/sidebar.php','hover'),n=j.create('chat_hovercard');g.subscribe('Hovercard/dirty',m.reset.bind(m));function o(s,t){m.get(s,function(u){setTimeout(function(){if(!u){n.error('fetch_failure',{id:s});return;}i.loadModules(["Hovercard"],function(v){var w=v.getDialog(u);if(!w){n.error('no_hovercard',{id:s,endpoint:u});return;}if(s==t.getActiveID())t.showHovercard(s,w);});},0);});}function p(s,t){var u=[];function v(y){if(y>=0&&y<s.length)u.push(s[y]);}var w=s.indexOf(t);if(w>-1){v(w);for(var x=1;x<l;x++){v(w+x);v(w-x);}}return u.filter(function(y){return y;});}function q(s,t){var u=t.getActiveID();if(u){var v=s.getShowingUsers(),w=p(v,u);m.get(w,function(){});}}function r(s){var t=s.getHoverController();t.registerDefault(o);t.subscribe('hover',k(q.bind(null,s,t),100));}e.exports=r;},null);
__d("ChatOrderedListHover",["ArbiterMixin","CSS","ErrorUtils","Event","LayerHideOnBlur","Parent","copyProperties","cx","mixin","setTimeoutAcrossTransitions","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();function r(x){h.addClass(x,'fetching');}function s(x){h.removeClass(x,'fetching');}var t=o(g);for(var u in t)if(t.hasOwnProperty(u))w[u]=t[u];var v=t===null?null:t.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=t;function w(x){"use strict";this._orderedList=x;this._root=x.getRoot();j.listen(this._root,'mouseover',this._mouseOver.bind(this));j.listen(this._root,'mouseleave',this._mouseLeave.bind(this));x.subscribe('click',q(this._hide,this));}w.prototype._mouseOver=function(event){"use strict";if(this._paused)return;var x=event.getTarget(),y=l.byClass(x,"_42fz")||l.byClass(x,"_5a58");y&&this._setActiveItem(y);};w.prototype._mouseLeave=function(event){"use strict";this._setActiveItem(null);};w.prototype._clearTimeouts=function(){"use strict";this._showTimeout&&clearTimeout(this._showTimeout);this._showTimeout=null;this._hideTimeout&&clearTimeout(this._hideTimeout);this._hideTimeout=null;};w.prototype._hide=function(){"use strict";if(this._showingDialog){this._showingDialog.hide();this._showingDialog=null;this._showingID=null;}};w.prototype._show=function(){"use strict";var x=this.getActiveID(),y=false;if(this._defaultHandler){y=true;i.applyWithGuard(this._defaultHandler,{},[x,this]);}if(y&&this._showingID!=this.getActiveID())r(this._activeItem);};w.prototype._setActiveItem=function(x){"use strict";if(x!=this._activeItem){this._clearTimeouts();this._activeItem&&s(this._activeItem);this._activeItem=null;var y=x?0:100;this._hideTimeout=p(function(){if(this.getActiveID()!=this._showingID)this._hide();}.bind(this),y);if(x){this._activeItem=x;var z=y+500;this._showTimeout=p(function(){this._show();}.bind(this),z);this.inform('hover');}else this.inform('leave');}};w.prototype.registerDefault=function(x){"use strict";this._defaultHandler=x;};w.prototype.getActiveID=function(){"use strict";var x=this._activeItem&&this._orderedList.getUserForNode(this._activeItem);return x||null;};w.prototype.showHovercard=function(x,y){"use strict";if(x==this.getActiveID()&&x!=this._showingID){this._clearTimeouts();s(this._activeItem);this._hide();this._showingDialog=y;this._showingID=x;var z=y.subscribe('mouseenter',this._setActiveItem.bind(this,this._activeItem)),aa=y.subscribe('mouseleave',function(){z.unsubscribe();this._setActiveItem(null);}.bind(this)),ba=y.subscribe('hide',function(){this.inform('hovercard_hide');z.unsubscribe();aa.unsubscribe();ba.unsubscribe();}.bind(this));y.enableBehavior(k).setContext(this._activeItem).setPosition('left').show();this.inform('hovercard_show');}};m(w.prototype,{_root:null,_activeItem:null,_hideTimeout:null,_showTimeout:null,_showingDialog:null,_showingID:null,_defaultHandler:null});e.exports=w;},null);
__d("ChatSidebarItem.react",["AvailableListConstants","ChatConfig","ChatSidebarConstants","Image.react","Link.react","ReactComponentWithPureRenderMixin","React","SplitImage.react","TextWithEmoticons.react","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=m,s=r.PropTypes,t=9,u=m.createClass({displayName:"ChatSidebarItem",mixins:[l],propTypes:{image:s.string,images:s.array,birthday:s.bool,context:s.string,detailedStatus:s.string,href:s.string,imageSize:s.number,name:s.string,onClick:s.func,status:s.number,statusTime:s.string,unreadCount:s.number},render:function(){var v=(("_55ln")+(this.props.context?' '+"_55lo":'')+(this.props.unreadCount?' '+"_5bom":''));return (m.createElement(k,{className:v,href:{url:this.props.href},onClick:this.props.onClick,rel:"ignore"},m.createElement("div",{className:"_55lp"},m.createElement("div",{className:"_56p9"},m.createElement(n,{size:this.props.imageSize||i.IMAGE_SIZE,srcs:this.props.image||this.props.images}),m.createElement("div",{className:"_568w"})),m.createElement("div",{className:"_5bon"},this.renderBirthday(),this.renderUnreadCount(),this.renderStatus()),m.createElement("div",{className:"_55lr"},m.createElement(o,{renderEmoticons:true,renderEmoji:true,text:this.props.name})),m.createElement("div",{className:"_55ls"},this.props.context))));},renderUnreadCount:function(){var v=this.props.unreadCount;if(!v)return null;var w=(("_5boo")+(v>t?' '+"_5bop":''));if(v>t)v=t+'+';return (m.createElement("div",{className:w},v));},renderStatus:function(){var v=this.getStatusSrc();if(!v&&!this.props.statusTime)return null;var w=v?m.createElement(j,{className:"_568_",src:v}):null;return (m.createElement("div",{className:"_568z"},m.createElement("div",{className:"_568-"},this.props.statusTime),this.renderDetailedPresence(),w));},renderDetailedPresence:function(){if(this.props.unreadCount)return null;return (m.createElement("div",{className:"_5t35"},this.props.detailedStatus));},renderBirthday:function(){if(!this.props.birthday)return null;var v=q('/images/gifts/icons/cake_icon.png');if(h.get('gray_cake'))v=q('/images/chat/sidebar/livebar/divebar_cake.png');return (m.createElement(j,{className:"_5dv3",src:v}));},getStatusSrc:function(){switch(this.props.status){case g.ACTIVE:return q('/images/litestand_classic/sidebar/online.png');case g.MOBILE:return q('/images/litestand_classic/sidebar/pushable.png');}return null;}});e.exports=u;},null);
__d("ChatSidebarThread.react",["ChatSidebarItem.react","ChatOpenTab","DOM","WebMessengerPermalinkConstants","React","MercuryThreadMetadataRawRenderer","Tooltip","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=k,p=o.PropTypes,q=k.createClass({displayName:"ChatSidebarThread",getInitialState:function(){return {maxNumParticipantsToRender:10};},propTypes:{image:p.string,imageSize:p.number,name:p.string,participants:p.array,numOtherParticipants:p.number,referrer:p.string,status:p.number,threadFBID:p.string,unreadCount:p.number},_renderParticipants:function(){var t=[],u=this.props.participants.length,v=this.props.numOtherParticipants,w=Math.min(this.state.maxNumParticipantsToRender,u);if(v-w==1)w--;for(var x=0;x<w;x++){var y=i.create('li');i.setContent(y,this.props.participants[x].name);t.push(y);}if(w<v){y=i.create('li');i.setContent(y,n._("and {num} more...",[n.param("num",v-w)]));t.push(y);}return i.create('ul',{},t);},componentDidMount:function(){m.set(k.findDOMNode(this),this._renderParticipants());},render:function(){var t=this.props.name,u=r(this.props.threadFBID,this.props.participants,this.props.numOtherParticipants),v=t?u:undefined,w=j.getURIPathForThreadID(this.props.threadFBID),x=s(this.props.image,this.props.participants),y=t?t:u;return (k.createElement(g,{context:v,href:w,imageSize:this.props.imageSize,image:this.props.image,images:x,name:y,onClick:this._openTab,referrer:this.props.referrer,status:this.props.status,unreadCount:this.props.unreadCount}));},_openTab:function(t){t.preventDefault();h.openThread(this.props.threadFBID,this.props.referrer);}});function r(t,u,v){return l.renderRawParticipantList(t,u,v,{names_renderer:l.renderShortNames});}function s(t,u){if(t)return null;return u.map(function(v){return v.image_src;});}e.exports=q;},null);
__d("ChatSidebarGroupThreadsGroup.react",["ChannelConnection","ChatSidebarThread.react","ChatSidebarSections","ChatSidebarConstants","PresencePrivacy","PresenceStatus","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=m,p=o.PropTypes,q=m.createClass({displayName:"ChatSidebarGroupThreadsGroup",propTypes:{groups:p.array.isRequired},render:function(){return (m.createElement("ul",null,this.props.groups.map(this._renderGroup)));},_renderGroup:function(r){var s=r.mercury_thread.participants,t=g.disconnected()||k.isUserOffline();return (m.createElement("li",{className:(("_42fz")+(t?' '+"_570-":'')),"data-id":r.uid,key:r.uid},m.createElement(h,{image:r.mercury_thread.image_src,imageSize:j.getImageSize(),name:r.mercury_thread.name,participants:r.participants_to_render,numOtherParticipants:s.length-1,referrer:i.ORDERED_LIST,status:l.getGroup(s),threadFBID:r.uid})));}});e.exports=q;},null);
__d("ChatSidebarUser.react",["ChatOpenTab","ChatSidebarItem.react","WebMessengerPermalinkConstants","ReactComponentWithPureRenderMixin","React"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=k,m=l.PropTypes,n=k.createClass({displayName:"ChatSidebarUser",mixins:[j],propTypes:{birthday:m.bool,detailedStatus:m.string,image:m.string,imageSize:m.number,name:m.string,sectionName:m.string.isRequired,slot:m.number,status:m.number,statusTime:m.string,unreadCount:m.number,userID:m.string.isRequired},_openTab:function(event){g.openUserTab(this.props.userID,this.props.sectionName,{global_slot:this.props.slot});return event.preventDefault();},render:function(){var o=i.getURIPathForIDOrVanity(this.props.userID);return (k.createElement(h,{onClick:this._openTab,href:o,imageSize:this.props.imageSize,image:this.props.image,name:this.props.name,status:this.props.status,birthday:this.props.birthday,statusTime:this.props.statusTime,detailedStatus:this.props.detailedStatus,context:this.props.context,unreadCount:this.props.unreadCount}));}});e.exports=n;},null);
__d("ChatSidebarUserGroup.react",["AvailableList","AvailableListConstants","ChannelConnection","ChatContexts","ChatSidebarSections","ChatSidebarUser.react","LastMobileActiveTimes","PresencePrivacy","PresenceStatus","React","ShortProfiles","SubscriptionsHandler","WorkModeConfig","cx","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=p,w=v.PropTypes,x=Object.keys(k).map(function(z){return k[z];}),y=p.createClass({displayName:"ChatSidebarUserGroup",propTypes:{ids:w.array.isRequired,sectionName:w.oneOf(x).isRequired},getInitialState:function(){return {userData:[]};},componentWillMount:function(){this.componentWillReceiveProps(this.props);this._subscriptions=new r();this._subscriptions.addSubscriptions(g.subscribe(h.ON_AVAILABILITY_CHANGED,u(this.forceUpdate,this)),n.subscribe('privacy-changed',u(this.forceUpdate,this)),i.subscribe([i.CONNECTED,i.RECONNECTING,i.SHUTDOWN,i.MUTE_WARNING,i.UNMUTE_WARNING],u(this.forceUpdate,this)));},componentWillUnmount:function(){this._subscriptions.release();},componentWillReceiveProps:function(z){q.getMulti(z.ids,function(aa){var ba=z.ids.map(function(ca){return aa[ca];});this.setState({userData:ba});}.bind(this));},_renderProfile:function(z,aa){var ba=s.is_work_user;if(z.id===0||!(z.is_friend||ba))return null;var ca=o.get(z.id),da=(ca!==h.ACTIVE)?m.getShortDisplay(z.id):null,ea=(ca===h.ACTIVE)?o.getDetailedActivePresence(z.id):null,fa=i.disconnected()||!n.allows(z.id),ga=j.getShortDisplay(z.id);return (p.createElement("li",{className:(("_42fz")+(ga?' '+"_52zj":'')+(fa?' '+"_570-":'')),"data-id":z.id,key:z.id},p.createElement(l,{birthday:z.is_birthday,context:ga,detailedStatus:ea,image:z.thumbSrc,imageSize:this.props.imageSize,name:z.name,sectionName:this.props.sectionName,slot:aa,status:ca,statusTime:da,userID:z.id})));},render:function(){return (p.createElement("ul",p.__spread({},this.props),this.state.userData.map(this._renderProfile)));}});e.exports=y;},null);
__d("ChatSidebarOrderedList.react",["Animation","AsyncDialog","AsyncRequest","ChatQuietLinks","ChatSidebarConstants","ChatSidebarGroupThreadsGroup.react","ChatSidebarSections","ChatSidebarUserGroup.react","PresencePrivacy","ReactComponentWithPureRenderMixin","React","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=q,v=u.PropTypes,w=q.createClass({displayName:"ChatSidebarOrderedList",propTypes:{topUsers:v.array.isRequired,availableUsers:v.array.isRequired,isSidebar:v.bool.isRequired,scrollContainer:v.object,groups:v.array.isRequired},componentDidMount:function(){j.nukeLinks(q.findDOMNode(this));},_scrollToSeparator:function(y){if(!this.props.scrollContainer)return;var z=this.props.scrollContainer.scrollHeight,aa=this.props.scrollContainer.clientHeight,ba=this.props.scrollContainer.scrollTop,ca=Math.min(y.offsetTop,z-aa);if(ba!==ca){var da=Math.abs(ca-ba)/this.props.scrollContainer.clientHeight*500;new g(this.props.scrollContainer).to('scrollTop',ca).ease(g.ease.end).duration(da).go();}},_openBlackbirdSettings:function(){var y=new r('/ajax/chat/privacy/settings_dialog.php').addQueryData({ref:'whitelist_separator'});h.send(new i(y));},_renderOfflineSection:function(){var y=k.getImageSize(this.props.isSidebar),z=this.props.topUsers.filter(function(ba){return !o.allows(ba);});z.splice(-2);var aa=(q.createElement("a",{href:"#",onClick:this._openBlackbirdSettings},t._("Edit")));return [q.createElement("div",{key:"users_separator1",className:"_554m"},q.createElement("div",{className:"_554o"},q.createElement("div",{className:"_554n"},q.createElement("span",{className:"_554p"},t._("MORE FRIENDS")),q.createElement("div",{className:"_554q"},q.createElement("span",{className:"_554r"}))))),q.createElement("div",{key:"users_separator2",className:"_554m blackbirdWhitelist"},q.createElement("div",{className:"_554o"},q.createElement("div",{className:"_554n"},q.createElement("div",{className:"_5v-d"},q.createElement("span",{className:"_554t"},t._("These friends can't see you on chat. {=link}",[t.param("=link",aa)])))))),q.createElement(n,{key:m.OFFLINE_USERS,sectionName:m.OFFLINE_USERS,ids:z,imageSize:y})];},_renderOnlineSection:function(){if(this.props.availableUsers.length===0)return null;var y=k.getImageSize(this.props.isSidebar);return [q.createElement("div",{key:"users_separator",ref:"usersSeparator",onClick:function(){return this._scrollToSeparator(q.findDOMNode(this.refs.usersSeparator));}.bind(this),className:"_554m moreOnlineFriends"},q.createElement(x,null,t._("{MORE ONLINE FRIENDS} ({=count})",[t.param("MORE ONLINE FRIENDS",t._("MORE FRIENDS")),t.param("=count",this.props.availableUsers.length)]))),q.createElement(n,{key:m.MORE_ONLINE_FRIENDS,sectionName:m.MORE_ONLINE_FRIENDS,ids:this.props.availableUsers,imageSize:y})];},_renderGroupsSection:function(){if(this.props.groups.length===0)return null;return [q.createElement("div",{key:"group_separator",ref:"groupSeparator",onClick:function(){return this._scrollToSeparator(q.findDOMNode(this.refs.groupSeparator));}.bind(this),className:"_554m moreOnlineFriends"},q.createElement(x,null,t._("GROUP CONVERSATIONS"))),q.createElement(l,{key:"group_threads_section",groups:this.props.groups})];},render:function(){var y=k.getImageSize(this.props.isSidebar),z=this.props.topUsers;if(o.getVisibility()==o.ONLINE)z=this.props.topUsers.filter(function(ba){return o.allows(ba);});var aa=(o.getOnlinePolicy()==o.ONLINE_TO_WHITELIST&&o.getVisibility())?this._renderOfflineSection():this._renderOnlineSection();return (q.createElement("li",null,q.createElement(n,{key:m.ORDERED_LIST,sectionName:m.ORDERED_LIST,ids:z,imageSize:y}),this._renderGroupsSection(),aa));}}),x=q.createClass({displayName:"ChatSidebarSeparator",mixins:[p],render:function(){return (q.createElement("div",{className:"_554o"},q.createElement("div",{className:"_554n"},q.createElement("span",{className:"_554p"},this.props.children),q.createElement("div",{className:"_554q"},q.createElement("span",{className:"_554r"})))));}});e.exports=w;},null);
__d("ChatOrderedList",["Arbiter","ArbiterMixin","AvailableList","AvailableListConstants","CSS","ChatConfig","ChatOptions","ChatHovercard","ChatOrderedListHover","ChatSidebarConstants","ChatSidebarOrderedList.react","ChatSortUsers","ChatVisibility","DOM","DataStore","Event","JSLogger","OrderedFriendsList","Parent","PresencePrivacy","PresenceStatus","React","createObjectFrom","csx","debounceAcrossTransitions","mixin","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){b.__markCompiled&&b.__markCompiled();var ha=null,ia,ja=fa(h);for(var ka in ja)if(ja.hasOwnProperty(ka))ma[ka]=ja[ka];var la=ja===null?null:ja.prototype;ma.prototype=Object.create(la);ma.prototype.constructor=ma;ma.__superConstructor__=ja;function ma(na,oa){"use strict";this._isSidebar=na;this._root=oa;this._isVisible=false;this._excludedIds={};this._numTopFriends=5;this._groups=[];this._hoverController=null;this._orderedList=t.find(this._root,'.fbChatOrderedList');this._scrollableOrderedList=y.byClass(this._root,'scrollableOrderedList');this._scrollableArea=y.byClass(this._root,'scrollable');if(this._isSidebar)new n(this);g.subscribe(w.DUMP_EVENT,function(pa,qa){qa.chat_lists=qa.chat_lists||{sorted_list:this.getCachedSortedList(),ordered_list:x.getList(),available_list:ma.getAvailableList(this._excludedIds),excluded_list:this._excludedIds};}.bind(this));z.subscribe('privacy-user-presence-changed',ga(this._render,this));i.subscribe(j.ON_AVAILABILITY_CHANGED,ga(this._render,this));}ma.prototype.getShowingUsers=function(){"use strict";return t.scry(this._root,"li._42fz,li._5a58").map(this.getUserForNode);};ma.prototype.getUserForNode=function(na){"use strict";return u.get(na,'id')||u.get(na,'serverthreadid');};ma.prototype.getHoverController=function(){"use strict";if(!this._hoverController)this._hoverController=new o(this);return this._hoverController;};ma.prototype.getItemHeight=function(){"use strict";return p.getItemHeight(this._isSidebar);};ma.prototype.getRoot=function(){"use strict";return this._root;};ma.prototype.getSortedList=function(na){"use strict";return ma.getSortedList(na||this._excludedIds,this._numTopFriends);};ma.prototype.getCachedSortedList=function(na){"use strict";if(ha==null)ha=this.getSortedList(na);return ha;};ma.prototype.hide=function(){"use strict";if(!this._isVisible)return;this._isVisible=false;k.hide(this._scrollableOrderedList||this._root);this.inform('hide');};ma.prototype.setNumTopFriends=function(na){"use strict";var oa=ma.getGroups(),pa=na-oa.length;if(pa>l.get('min_top_friends'))na=pa;if(na!==this._numTopFriends||oa.length!==this._groups.length){this._groups=oa;this._numTopFriends=na;this._render();}};ma.prototype._renderOrderedList=function(){"use strict";if(!this._isVisible||ia)return;var na=ma.getSortedList({},this._numTopFriends),oa=ma.getAvailableList(ca(na));oa.sort(r.sortMobile);ba.render(ba.createElement(q,{availableUsers:oa,isSidebar:this._isSidebar,scrollContainer:this._scrollContainer,topUsers:na,groups:ma.getGroups()}),this._orderedList);this.inform('render');};ma.prototype._render=function(){"use strict";this._render=ea(this._renderOrderedList.bind(this),300);this._render();};ma.prototype.show=function(){"use strict";if(this._isVisible)return;this._isVisible=true;k.show(this._scrollableOrderedList||this._root);this._render();this.inform('show');};ma.prototype.isVisible=function(){"use strict";return this._isVisible;};ma.prototype.setScrollContainer=function(na){"use strict";if(t.contains(na,this._root))this._scrollContainer=na;};ma.getGroups=function(){"use strict";if(!m.getSetting('hide_groups')){return x.getGroups();}else return [];};ma.getSortedList=function(na,oa){"use strict";var pa=x.getList().filter(function(sa){return !(sa in na)&&z.getFriendVisibility(sa)!==z.BLACKLISTED;});if(!s.isOnline())if(z.getOnlinePolicy()===z.ONLINE_TO_WHITELIST)pa=this._filterByWhitelist(pa);var qa=pa.slice(0,oa);if(qa.length===oa){var ra=ma.getAvailableList(qa.concat(na)).length;ra&&qa.splice(-1);}ha=qa.slice();return qa;};ma._filterByWhitelist=function(na){"use strict";var oa=na,pa={},qa,ra;na=[];for(qa=0;qa<oa.length;++qa){ra=oa[qa];if(z.allows(ra)){pa[ra]=true;na.push(ra);}}var sa=z.getWhitelist();for(qa=0;qa<sa.length;++qa){ra=sa[qa];if(!(ra in pa))na.push(ra);}for(qa=0;qa<oa.length;++qa){ra=oa[qa];if(!z.allows(ra))na.push(ra);}return na;};ma.getAvailableList=function(na){"use strict";var oa;if(!oa)oa=aa.getOnlineIDs();return oa.filter(function(pa){return !(pa in na);});};ma._pause=function(){"use strict";ia=true;};ma._unpause=function(){"use strict";ia=false;};ma._registerToggleRenderItem=function(na){"use strict";v.listen(na,'click',function(){ia=!ia;k.conditionClass(na,'checked',ia);});};e.exports=ma;},null);
__d("ChatSidebarDropdown",["AppsDivebarDisplayController","Arbiter","AsyncRequest","Chat","ChatOptions","ChatOrderedList","ChatSidebar","ChatTabActions","ChatVisibility","CSS","JSLogger","PresenceState","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();function u(v,w,x,y,z,aa){"use strict";this._menu=w;this._popover=v.getPopover();this._selectedValues={};this._menuIsRendered=false;this._editingFavoriteList=false;this._hasAppsOption=aa;this._logger=q.create('blackbird');this._menu.subscribe('itemclick',this._onClick.bind(this));this._popover.subscribe('init',this._onLayerInit.bind(this));this._popover.subscribe('show',this._updateTickerVisibility.bind(this));h.subscribe('chat/option-changed',this._onOptionChanged.bind(this));}u.prototype._onLayerInit=function(){"use strict";this._menuIsRendered=true;p.addClass(this._popover.getLayer().getContentRoot(),"_5vm9");this._displayBrowserNotificationsIfNeeded();this._updateVisibility();h.subscribe('chat-visibility/go-online',this._updateVisibility.bind(this));h.subscribe('chat-visibility/go-offline',this._updateVisibility.bind(this));this._updateSelectedItems();if(this._editingFavoriteList)this._updateEditFavoriteListLabel(this._editingFavoriteList);if(this._hasAppsOption)this._registerAppHandlers();};u.prototype._updateSelectedItems=function(){"use strict";this._menu.forEachItem(function(v){var w=v.getValue&&v.getValue();if(w in this._selectedValues){var x=this._selectedValues[w];if(x){v.select();}else v.deselect();}}.bind(this));};u.prototype._registerAppHandlers=function(){"use strict";this._updateAppsVisibility();h.subscribe('AppsDivebar/hide-apps',this._updateAppsVisibility.bind(this));h.subscribe('AppsDivebar/show-apps',this._updateAppsVisibility.bind(this));};u.prototype._updateTickerVisibility=function(){"use strict";var v=t('pagelet_ticker');p.conditionClass(this._popover.getLayer().getContentRoot(),"_2rox",!v||v.offsetHeight===0);};u.prototype._updateAppsVisibility=function(){"use strict";p.conditionClass(this._popover.getLayer().getContentRoot(),"_2vh",!g.isVisible());};u.prototype._updateVisibility=function(){"use strict";p.conditionClass(this._popover.getLayer().getContentRoot(),"_5vma",!o.isOnline());};u.prototype._displayBrowserNotificationsIfNeeded=function(){"use strict";if(window.webkitNotifications){var v;this._menu.forEachItem(function(w){if(w.getValue&&w.getValue()==='browser_notif')v=w;});if(v){p.show(v.getRoot());if(window.webkitNotifications.checkPermission()!==0)v.deselect();}}};u.prototype._onChangeSettingResponse=function(v,w,x){"use strict";r.doSync();};u.prototype._onChangeSettingError=function(v,w,x){"use strict";k.setSetting(v,!w,'sidebar_menu_error');};u.prototype._onChangeFinally=function(){"use strict";this._pendingChange=false;};u.prototype._onOptionChanged=function(v,w){"use strict";var x=w.name,y=w.value;if(this._menuIsRendered){this._menu.forEachItem(function(z){if(z.getValue&&(z.getValue()===x))if(z.isSelected()&&!y){z.deselect();}else if(!z.isSelected()&&y)z.select();});}else this._selectedValues[x]=y;};u.prototype._onClick=function(v,w){"use strict";if(this._pendingChange)return false;var x=false,y=w.item.getValue(),z=true;switch(y){case 'sidebar':this.toggleSidebar();break;case 'online':if(!o.isOnline()){o.goOnline();}else this._logVisibilityChange(y,true);x=true;break;case 'offline':if(o.isOnline()){o.goOffline();}else this._logVisibilityChange(y,true);x=true;break;case 'advanced_settings':case 'turn_off_dialog':h.inform('chat/advanced-settings-dialog-opened');x=true;this._logVisibilityChange(y,false);break;case 'browser_notif':if(!w.item.isSelected()&&window.webkitNotifications&&window.webkitNotifications.checkPermission()!==0){window.webkitNotifications.requestPermission(function(){this.changeSetting(y,!w.item.isSelected());}.bind(this));}else this.changeSetting(y,!w.item.isSelected());x=true;break;case 'sound':this.changeSetting(y,!w.item.isSelected());x=true;break;case 'pause':var aa=!w.item.isSelected();if(aa){l._pause();}else l._unpause();x=true;z=false;break;case 'close_all_tabs':n.closeAllTabs();this._logVisibilityChange(y,false);x=true;break;case 'show_apps':if(!g.isVisible()){g.showApps();m.resize();}x=true;break;case 'hide_apps':if(g.isVisible()){g.hideApps();m.resize();}x=true;break;case 'show_ticker':h.inform('ChatSidebarDropdown/openTicker');x=true;break;case 'hide_ticker':h.inform('ChatSidebarDropdown/closeTicker');x=true;break;case 'hide_groups':var ba=w.item.isSelected();this.changeSetting('hide_groups',!ba);x=true;break;}if(x){this.hideMenu();return z;}};u.prototype._logVisibilityChange=function(v,w){"use strict";this._logger.error(w?'sidebar_dropdown_visibility_error':'sidebar_dropdown_set_visibility',{action:v});};u.prototype.changeSetting=function(v,w){"use strict";if(this._pendingChange)return false;this._pendingChange=true;var x={};x[v]=w;k.setSetting(v,w,'sidebar_menu');new i('/ajax/chat/settings.php').setHandler(this._onChangeSettingResponse.bind(this,v,w)).setErrorHandler(this._onChangeSettingError.bind(this,v,w)).setFinallyHandler(this._onChangeFinally.bind(this)).setData(x).setAllowCrossPageTransition(true).send();};u.prototype.hideMenu=function(){"use strict";if(this._menuIsRendered)this._popover.hideLayer();};u.prototype.toggleSidebar=function(){"use strict";j.toggleSidebar();this.hideMenu();return false;};e.exports=u;},null);
__d("ChatSidebarLog",["AsyncSignal","Banzai","BanzaiLogger","Bootloader","csx","DOM","ErrorUtils","ModuleDependencies","JSLogger","Run","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=o.create('chat_sidebar_load'),s=null,t=false,u=(Math.random()*2147483648|0).toString(36),v=Date.now(),w=null,x=false;p.onLoad(function(){t=true;});try{d(['ChatSidebar'],function(ea){s=ea;});}catch(y){r.warn('exception',{reason:y.toString()});}function z(ea,fa){if(ea&&ea.length>fa)return ea[fa];return null;}function aa(ea){if(ea.name=='SyntaxError'||/syntaxerror/i.test(ea.message))x=true;}function ba(){if(!w)w=i.create(q({retry:true},h.VITAL));return w;}function ca(ea){setTimeout(function(){var fa=n.getMissing('ChatSidebar'),ga=j.getErrorUrls(),ha=j.getLoadingUrls(),ia=[];for(var ja in ha)ia.push({url:ja,time:ha[ja]});ia.sort(function(qa,ra){return ra.time-qa.time;});var ka={};for(var la=0,ma=ia.length;la<ma;la++)ka[ia.url]=ia.time;var na={start_gap:v-j.getStartTime(),page_loaded:t,page_id:u,timeout:ea,missing_total:fa?fa.length:null,module_1:z(fa,0),module_2:z(fa,1),module_3:z(fa,2),error_url_total:ga.length,error_url_1:z(ga,0),error_url_2:z(ga,1),error_url_3:z(ga,2),loading_url_total:ia.length,loading_url_1:z(ia,0)?z(ia,0).url:null,loading_time_1:z(ia,0)?z(ia,0).time:null,loading_url_2:z(ia,1)?z(ia,1).url:null,loading_time_2:z(ia,1)?z(ia,1).time:null,loading_url_3:z(ia,2)?z(ia,2).url:null,loading_time_3:z(ia,2)?z(ia,2).time:null},oa=null;if(!s){r.warn('require_'+ea,{missing:fa});oa='require';}if(s&&!s.isInitialized()){r.warn('init_'+ea,{missing:fa});oa='init';}if(s&&s.isInitialized()&&s.isEnabled()&&s.shouldShowSidebar()){var pa=l.scry(s.getRoot(),"._42fz");if(!pa||pa.length===0){r.warn('render_'+ea,{missing:fa});oa='render';}}if(oa){na.symptom=oa;new g('/ajax/chat/sidebar_load.php',na).send();ba().log('SidebarLoadFailureLoggerConfig',{start_gap:v-j.getStartTime(),page_loaded:t,page_id:u,timeout:ea,symptom:oa,has_syntax_error:x});}},ea);}var da={start:function(){m.addListener(aa);ca(5000);ca(10000);ca(15000);ca(30000);ca(60000);}};e.exports=da;},null);
__d("ChatSidebarTypeaheadDataSource",["MercuryTypeaheadDataSource","ShortProfiles"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();for(var i in g)if(g.hasOwnProperty(i))k[i]=g[i];var j=g===null?null:g.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=g;function k(l){"use strict";l=l||{};l.kanaNormalization=true;g.call(this,l);}k.prototype.init=function(){"use strict";j.init.call(this);this.updateBootstrapData();};k.prototype.bootstrap=function(){"use strict";j.bootstrap.call(this);};k.prototype.updateBootstrapData=function(){"use strict";if(this.isBootstrapped())return;j.updateBootstrapData.call(this);};k.prototype.fetchAll=function(){"use strict";h.fetchAll();};k.prototype.refreshData=function(){"use strict";this.fetchAll();d(['AvailableList'],function(l){l.update();}.bind(this));};k.prototype.query=function(l,m,n,o){"use strict";this.logQuery({event:'query_dive_bar',query:l});return j.query.call(this,l,m,n,o);};k.prototype.respond=function(l,m,n){"use strict";var o=j.respond.call(this,l,m,n);this.logResponse({event:'query_response_dive_bar',response_query:l,response_uids:m});return o;};e.exports=k;},null);
__d("ChatTypeaheadCore",["Event","Keys","TypeaheadCore","copyProperties","emptyFunction","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();for(var m in i)if(i.hasOwnProperty(m))o[m]=i[m];var n=i===null?null:i.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=i;function o(){"use strict";if(i!==null)i.apply(this,arguments);}o.prototype.init=function(p,q,r){"use strict";n.init.call(this,p,q,r);this.informBeginActive=false;this.informEndActive=false;this.data.subscribe('respond',function(){if(this.informBeginActive){this.informBeginActive=false;this.inform('sidebar/typeahead/active',true);}else if(this.informEndActive){this.informEndActive=false;this.inform('sidebar/typeahead/active',false);}}.bind(this));};o.prototype.keydown=function(event){"use strict";this.data.fetchAll();var p=g.getKeyCode(event);if(p===h.ESC){this.view.clearContent();setTimeout(l(this.reset,this),0);if(!this.getValue()){this.element.blur();this.inform('escape');}return event.kill();}return n.keydown.call(this,event);};o.prototype.checkValue=function(){"use strict";var p=this.getValue(),q=this.value;if(p==q)return;if(q&&!p){this.typeaheadActive=false;this.informEndActive=true;}else if(!q&&p){this.typeaheadActive=true;this.informBeginActive=true;this.inform('sidebar/typeahead/preActive');}n.checkValue.call(this);};j(o.prototype,{handleTab:k});e.exports=o;},null);
__d("ChatSidebarHeader.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"ReactChatSidebarHeader",render:function(){return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,"_55ob")}),g.createElement("div",{className:"_55oc"},this.props.children)));}});e.exports=j;},null);
__d("ChatTypeaheadRenderer",["AvailableListConstants","ChatSidebarConstants","ChatSidebarHeader.react","ChatSidebarSections","ChatSidebarThread.react","ChatSidebarUser.react","ChatTypeaheadConstants","DOM","LastMobileActiveTimes","MercuryIDs","PresenceStatus","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s={};function t(y,z){if(!(y in s))s[y]=n.create('li');r.render(z,s[y]);return s[y];}function u(y){return t(y.text,r.createElement(i,null,y.text));}function v(y){var z=y.mercury_thread.participants.map(function(aa){return p.getUserIDFromParticipantID(aa);});return t(y.uid,r.createElement(k,{image:y.mercury_thread.image_src,imageSize:h.getImageSize(),name:y.mercury_thread.name,participants:y.participants_to_render,numOtherParticipants:z.length-1,referrer:j.TYPEAHEAD,status:q.getGroup(z),threadFBID:y.uid}));}function w(y){var z=q.get(y.uid),aa=(z===g.MOBILE)?o.getShortDisplay(y.uid):null,ba=(y.render_type==m.NON_FRIEND_TYPE||y.render_type==m.PAGE_TYPE||y.render_type==m.FB4C_TYPE)?y.subtext:null,ca=null;if(z===g.ACTIVE)ca=q.getDetailedActivePresence(y.uid);return t(y.uid,r.createElement(l,{image:y.photo,imageSize:h.getImageSize(),name:y.text,sectionName:j.TYPEAHEAD,status:z,statusTime:aa,detailedStatus:ca,userID:y.uid,context:ba}));}function x(y,z){if(y.type===m.HEADER_TYPE)return u(y);if(y.type==m.THREAD_TYPE)return v(y);return w(y);}e.exports=x;},null);
__d("ChatTypeaheadView",["BucketedTypeaheadView","ChatTypeaheadConstants","CurrentUser","DOM","React","MercuryThreadSearchUtils","WorkModeConfig","XUISpinner.react","arrayContains","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();for(var r in g)if(g.hasOwnProperty(r))t[r]=g[r];var s=g===null?null:g.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=g;function t(u,v){"use strict";g.call(this,u,v);this.showingLoadingIndicator=false;this.typeObjects={};this.typeObjectsOrder=[];this.typeObjects[h.NON_FRIEND_TYPE]={uid:h.NON_FRIEND_TYPE,type:h.HEADER_TYPE,text:q._("MORE PEOPLE")};this.typeObjectsOrder.push(h.NON_FRIEND_TYPE);this.typeObjects[h.PAGE_TYPE]={disabled:true,uid:h.PAGE_TYPE,type:h.HEADER_TYPE,text:q._("PAGES")};this.typeObjectsOrder.push(h.PAGE_TYPE);this.typeObjects[h.THREAD_TYPE]={uid:h.THREAD_TYPE,type:h.HEADER_TYPE,text:q._("GROUP CONVERSATIONS")};this.typeObjectsOrder.push(h.THREAD_TYPE);this.typeObjects[h.FB4C_TYPE]={uid:h.FB4C_TYPE,type:h.HEADER_TYPE,text:q._("COLLEAGUES")};this.typeObjects[h.FRIEND_TYPE]={disabled:true,uid:h.FRIEND_TYPE,type:h.HEADER_TYPE,text:q._("FRIENDS")};this.typeObjectsOrder.push(h.FB4C_TYPE);this.typeObjectsOrder.push(h.FRIEND_TYPE);}t.prototype.reset=function(){"use strict";if(this.value==='')this.clearContent();this.index=-1;this.items=[];this.results=[];this.value='';this.inform('reset');return this;};t.prototype.clearContent=function(){"use strict";this.hideLoadingIndicator();j.empty(this.content);};t.prototype.buildBuckets=function(u,v){"use strict";var w=v.filter(function(x){var y=x.render_type||x.type;if(y==='thread'){var z='fbid:'+i.getID();if(!o(x.mercury_thread.participants,z))return false;var aa=x.participants_to_render.some(function(ca){return l.queryMatchesName(u,ca.name);}),ba=l.queryMatchesName(u,x.mercury_thread.name);if(!aa&&!ba)return false;}return true;}).reverse();return s.buildBuckets.call(this,u,w);};t.prototype.getDefaultIndex=function(u){"use strict";if(u.length===0)return -1;var v=u.length-1;while(!this.isHighlightable(u[v])&&v>=0)v--;return v;};t.prototype.showLoadingIndicator=function(){"use strict";if(!this.showingLoadingIndicator){k.render(k.createElement("div",{className:"spinnerContainer"},k.createElement(n,{className:"_3-8i",background:"light",size:"small",paused:false})),this.content);this.showingLoadingIndicator=true;}};t.prototype.hideLoadingIndicator=function(){"use strict";if(this.showingLoadingIndicator){k.unmountComponentAtNode(this.content);this.showingLoadingIndicator=false;}};t.prototype.showNoResults=function(){"use strict";var u=q._("Friend not found.");if(m.is_work_user)u=q._("Colleague not found.");this.hideLoadingIndicator();j.setContent(this.content,j.create('div',{className:"noResults _3-9a"},u));};t.prototype.hide=function(){"use strict";this.clearContent();return s.hide.call(this);};t.prototype.render=function(u,v,w){"use strict";if(!v.length){if(u&&u.length>1)this.showLoadingIndicator();}else this.hideLoadingIndicator();return s.render.call(this,u,v,w);};e.exports=t;},null);
__d("legacy:ChatTypeaheadBehavior",["ChatTypeaheadBehavior"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.chatTypeahead=function(h){h.enableBehavior(g);};},3);
__d("NotificationImpressions",["AsyncSignal","NotificationTokens","URI"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j='/ajax/notifications/impression.php';function k(l,m){var n={ref:m};h.untokenizeIDs(l).forEach(function(o,p){n['alert_ids['+p+']']=o;});new g(i(j).getQualifiedURI().toString(),n).send();}e.exports={log:k};},null);
__d("NotificationBeeperItemContents.react",["Animation","AsyncRequest","Bootloader","CloseButton.react","ImageBlock.react","NotificationURI","NotificationUserActions","React","TextWithEntities.react","Timestamp.react","URI","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();function s(u,v){return n.createElement("span",{className:"fwb"},u);}var t=n.createClass({displayName:"NotificationBeeperItemContents",_markAsRead:function(){m.markNotificationsAsRead([this.props.beep.notificationID]);},_onClick:function(u){this._markAsRead();this.props.onHide();if(u.button===1||u.altKey||u.ctrlKey||u.metaKey||u.shiftKey)return;var v=this.props.beep,w=q(v.url).getPath();if(l.isAlbumDraftRecoveryDialogURI(v.link)){new h(v.link).send();u.preventDefault();}else if(v.photo&&l.snowliftable(v.link)){i.loadModules(["PhotoSnowlift"],function(x){x.bootstrap(v.link,u.currentTarget);});u.preventDefault();}else if(v.ajaxifyLink){i.loadModules(["AsyncDialog"],function(x){x.bootstrap(v.ajaxifyLink,u.currentTarget,'dialog');});u.preventDefault();}},_onClose:function(){this._markAsRead();this.props.onHide();},_doFlash:function(){new g(n.findDOMNode(this.refs.inner)).from('opacity','0').to('opacity','1').duration(200).go();},componentDidMount:function(){this.props.onReadyToHide(this.props.beep.notificationID);},componentDidUpdate:function(u){if(u.beep.beepID!==this.props.beep.beepID){this._doFlash();this.props.onReadyToHide(this.props.beep.notificationID);}},render:function(){var u=this.props.beep;return (n.createElement("div",{ref:"inner"},n.createElement(j,{className:"_3soc",onClick:this._onClose,size:"medium"}),n.createElement("a",{href:u.link,onClick:this._onClick,className:"_3soi"},n.createElement(k,{className:"_3soj",spacing:"medium"},n.createElement("img",{src:u.actors[0].profile_picture.uri,className:"_3sok"}),n.createElement("div",{className:"_3sol"},n.createElement(o,{renderEmoticons:true,renderEmoji:true,interpolator:s,ranges:u.text.ranges,aggregatedranges:u.text.aggregated_ranges,text:u.text.text}),n.createElement(k,{className:"_3som"},n.createElement("img",{className:"_1x8t",src:u.icon.uri}),n.createElement(p,{time:u.timestamp.time,text:u.timestamp.text,verbose:u.timestamp.verbose})))))));}});e.exports=t;},null);
__d("NotificationBeeperConst",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={IDLE_DELAY:10000,ACTIVE_DELAY_LONG:4000,FADE_OUT_LENGTH:1500,BeepStates:g({PENDING:true,RENDERED:true,READY_TO_HIDE:true,FADING_OUT:true})};e.exports=h;},null);
__d("NotificationBeeperItem.react",["Animation","BrowserSupport","NotificationBeeperItemContents.react","React","NotificationBeeperItemRenderersList","Style","NotificationBeeperConst","cx","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=j.createClass({displayName:"NotificationBeeperItem",getInitialState:function(){return {fadedIn:false,hidden:false};},componentDidMount:function(){var q;if(h.hasCSSAnimations()){q=this.setState.bind(this,{fadedIn:true},null);}else q=function(){new g(j.findDOMNode(this.refs.item)).from('top','-30px').from('opacity','0').to('top','0px').to('opacity','1').duration(200).ondone(this.setState.bind(this,{fadedIn:true},null)).go();}.bind(this);o(q,50);this.props.onInserted(this.props.beep);},componentWillUnmount:function(){if(this._fadeOutAnimation){this._fadeOutAnimation.stop();this._fadeOutAnimation=null;}},_onHide:function(){this.setState({hidden:true});},render:function(){var q=this.props.beep,r=(("_3sod")+(this.state.fadedIn?' '+"_3soe":'')+(this.state.hidden?' '+"_3sof":'')),s=this._getRenderer(q.beepRenderer);return (j.createElement("li",{className:r,ref:"item","data-gt":q.tracking},j.createElement(s,{beep:q,onHide:this._onHide,onReadyToHide:this.props.onReadyToHide,ref:"itemContents"})));},componentDidUpdate:function(q,r,s){if(this.props.fadingOut){if(!this._fadeOutAnimation)this._fadeOutAnimation=new g(j.findDOMNode(this.refs.item)).from('opacity','1').to('opacity','0').duration(m.FADE_OUT_LENGTH).ondone(this._onHide).go();j.findDOMNode(this.refs.item).style.transitionDuration='0ms';}else if(this._fadeOutAnimation){this._fadeOutAnimation.stop();this._fadeOutAnimation=null;l.set(j.findDOMNode(this.refs.item),'opacity','1');}},_getRenderer:function(q){if(q in k)return k[q];return i;}});e.exports=p;},null);
__d("NotificationSound",["Sound","copyProperties"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=5000;g.init(['audio/mpeg']);function j(k){this._soundPath=k;this._lastPlayed=0;}h(j.prototype,{play:function(k){if(!this._soundPath)return;var l=Date.now();if((l-this._lastPlayed)<i)return;this._lastPlayed=l;g.play(this._soundPath,k);}});e.exports=j;},null);
__d("NotificationBeeper.react",["Arbiter","ChannelConstants","NotificationBeeperItem.react","NotificationConstants","NotificationImpressions","NotificationPhotoThumbnail","NotificationSound","NotificationUpdates","NotificationURI","NotificationUserActions","React","NotificationBeeperConst","NotificationBeeperPinnedPostLoader","cx","setTimeoutAcrossTransitions","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();var w=r.BeepStates,x='beeper',y=j.PayloadSourceType.LIVE_SEND,z=j.PayloadSourceType.OTHER_APPLICATION,aa=q.createClass({displayName:"NotificationBeeper",getInitialState:function(){return {soundEnabled:this.props.soundEnabled,hovering:false,fading:false,beeps:{}};},componentWillMount:function(){var ba=h.getArbiterType('notif_sound_pref_changed'),ca='update-notifications';this.subscriptions=[n.subscribe(ca,function(da,ea){if(ea.payloadsource===y||ea.payloadsource===z){var fa=ea.nodes;if(fa&&fa.length)this._handleBeepChanges(this._convertNotifications(fa));}}.bind(this)),g.subscribe(ba,function(da,ea){this.setState({soundEnabled:ea.obj.enabled});}.bind(this))];g.inform('NotificationBeeper/mounted',null,g.BEHAVIOR_PERSISTENT);if(s.payload)this._handleBeepChanges(this._convertNotifications(s.payload.nodes));},componentWillUnmount:function(){this.subscriptions.forEach(function(ba){ba.unsubscribe();});this.subscriptions=null;},_onMouseEnter:function(){this._hideWait&&clearTimeout(this._hideWait);var ba=[],ca=this.state.beeps;Object.keys(ca).forEach(function(da){if(ca[da].state!=w.PENDING){ba.push(da);}else ca[da].state=w.RENDERED;});p.markNotificationsAsSeen(ba);this.setState({hovering:true,fading:false,beeps:ca});},_onMouseLeave:function(){this._waitToHide(r.ACTIVE_DELAY_LONG);this.setState({hovering:false});},_onInsertedItem:function(ba){if(!this.state.hovering)this._waitToHide();if(this.state.soundEnabled&&ba.sound){if(!this._notifSound)this._notifSound=new m(this.props.soundPath);this._notifSound.play(ba.beepID);}if(this.props.shouldLogImpressions)k.log([ba.notificationID],x);},_waitToHide:function(ba){this._hideWait&&clearTimeout(this._hideWait);this._hideWait=u(v(this._hide,this),ba||r.IDLE_DELAY);},_onReadyToHide:function(ba){this.state.beeps[ba].state=w.READY_TO_HIDE;if(!this._hideWait)this._waitToHide();},_hide:function(){this._hideWait=null;var ba=this.state.beeps;Object.keys(ba).forEach(function(ca){if(ba[ca].state==w.READY_TO_HIDE)ba[ca].state=w.FADING_OUT;});this.setState({fading:true});u(v(this._finishHide,this),r.FADE_OUT_LENGTH);},_finishHide:function(){if(!this.state.fading)return;var ba=this.state.beeps;Object.keys(ba).forEach(function(ca){if(ba[ca].state==w.FADING_OUT)delete ba[ca];});this.setState({fading:false,beeps:ba});u(function(){var ca=this.state.beeps;Object.keys(ca).forEach(function(da){if(ca[da].state==w.PENDING)ca[da].state=w.RENDERED;});this.setState({beeps:ca});}.bind(this));},_handleBeepChanges:function(ba){var ca=this.state.fading?w.PENDING:w.RENDERED,da=this.state.beeps,ea=false;Object.keys(ba).reverse().forEach(function(fa){var ga={state:ca,data:ba[fa]};if(!da[fa]||da[fa].data.beepID!=ga.data.beepID){if(da[fa]){ea=true;if(ga.data.beepUpdatesOnTop)delete da[fa];}da[fa]=ga;}});if(ea)this._waitToHide();this.forceUpdate();},render:function(){var ba=this.state.beeps,ca=[];Object.keys(ba).reverse().forEach(function(fa){var ga=ba[fa];if(ga.state==w.PENDING)return;ca.push(q.createElement(i,{key:fa,fadingOut:this.state.fading&&ga.state==w.FADING_OUT,beep:ga.data,onInserted:this._onInsertedItem,onReadyToHide:this._onReadyToHide}));},this);var da=ca.length>0,ea=((!da?"hidden_elem":'')+(' '+"_50d1"));return (q.createElement("ul",{ref:"container",className:ea,"data-gt":this.props.tracking,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},ca));},_convertNotifications:function(ba){var ca={};ba.forEach(function(da){if(!da.showBeep)return;var ea=da.alert_id,fa=ea+'-'+da.receivedTime,ga=l.getThumbnail(da.attachments,da.attached_story),ha=ca[ea]={notificationID:ea,notifID:da.id,beepID:fa,beepRenderer:da.beepRenderer,rendererData:da.rendererData,beepUpdatesOnTop:da.beepUpdatesOnTop,actors:da.unaggregatedActors||da.actors,icon:da.icon,link:da.url?o.localize(da.url):'#',url:da.url,ajaxifyLink:da.ajaxify_url,photo:ga,text:da.unaggregatedTitle||da.title,timestamp:da.timestamp,receivedTime:da.receivedTime,sound:!!da.sound,tracking:da.tracking};});return ca;}});e.exports=aa;},null);
__d("ComposerXNUX",["AsyncRequest","ComposerXDragDrop","CSS","DOM","Event","SubscriptionsHandler","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o={},p={};function q(s,t,u){var v=u.dataTransfer.items;if(v){var w=h.filterImages(v);if(!w.length)return;}r.acknowledgeDialog(s,t);}var r={CAMERA_NUX:'camera_nux_seen',ADD_MORE_NUX:'add_more_nux_seen',HMU_NUX:'hmu_nux_seen',HMU_POST_NUX:'hmu_post_nux_seen',FACEREC_SUGGESTIONS_NUX:'facerec_suggestions_nux_seen',TAGGING_FLYOUT_NUX:'tagging_flyout_nux_seen',OGCOMPOSER_NEW_ICON_PICKER_NUX:'minutiae_icon_picker_nux_seen',SHARER_MINUTIAE_NUX:'sharer_minutiae_nux_seen',ADD_STICKERS_NUX:'add_stickers_nux_seen',UPCOMING_BIRTHDAYS_NUX:'upcoming_birthdays_nux_seen',onInit:function(s,t,u){if(o[u])return;p[u]=p[u]||new l();var v=p[u];v.engage();var w=s.getRoot();i.addClass(w,"_4bka");var x=j.scry(w,"._3o-a");x.forEach(function(y){v.addSubscriptions(k.listen(y,'click',r.acknowledgeDialog.bind(null,u,s)));});if(u==r.CAMERA_NUX)v.addSubscriptions(k.listen(document,'dragenter',q.bind(null,u,s)));v.addSubscriptions(s.subscribe('cancel',r.sendMarkSeenRequest.bind(null,u)),s.subscribe('hide',v.release.bind(v)));s.setContext(t).show();},acknowledgeDialog:function(s,t){r.sendMarkSeenRequest(s);t.hide();},sendMarkSeenRequest:function(s){if(!o[s]){new g('/ajax/photos/composer/mark_nux_seen.php').setData({type:s}).send();o[s]=true;}},onCleanup:function(s){s.hide();}};e.exports=r;},null);
__d("XEventReminderImpressionLoggerAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/events\/ajax\/reminder\/impression\/",{acontext:{type:"StringToStringMap",required:true},data:{type:"StringToStringMap"}});},null);
__d("EventReminderController",["Arbiter","AsyncRequest","DOM","DOMQuery","Event","ScrollableArea","XEventReminderImpressionLoggerAsyncController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n={registerReminder:function(o,p){this._firstOpen=true;var q=o.getDialog(),r=l.getInstance(j.scry(q.getRoot(),'.uiScrollableArea')[0]),s=null;if(r){s=i.find(r.getElement(),'div.uiScrollableAreaWrap');r.subscribe('scroll',function(){return g.inform('EventReminderDialog/scroll',{rect:s.getBoundingClientRect(),scrollTop:s.scrollTop});});}k.listen(o.getRoot(),'click',function(event){event.preventDefault();});q.subscribe('show',function(){var t=m.getURIBuilder().setStringToStringMap('acontext',p).setStringToStringMap('data',{first_open:this._firstOpen}).getURI();new h(t).send();this._firstOpen=false;var u={};if(s)u={rect:s.getBoundingClientRect()};g.inform('EventReminderDialog/show',u);}.bind(this));q.subscribe('hide',function(){return g.inform('EventReminderDialog/hide');});}};e.exports=n;},null);
__d("QE",["Banzai","Cache"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i='qe_log_exposure',j=60,k=new h(),l={logExposure:function(m){if(k.has(m))return;var n={signal:true},o={name:m};g.post(i,o,n);k.set(m,true,1,j);}};e.exports=l;},null);
__d("RequestListController",["Arbiter","ChannelConstants","CSS","DOM"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(l){"use strict";this.$RequestListController0=l;this.$RequestListController1=0;this.$RequestListController2={};g.subscribe(h.getArbiterType('jewel_requests_remove_old'),this.$RequestListController3.bind(this));this.fromDom();}k.prototype.$RequestListController4=function(l){"use strict";var m=l.match(/^(\d+)_(\d+)/);return (m)?{requester:m[1],type:m[2]}:(void 0);};k.prototype.$RequestListController5=function(l){"use strict";var m=l?this.$RequestListController4(l):(void 0),n;if(m&&m.requester){n=parseInt(m.requester,10);if(isNaN(n))n=(void 0);}var o;if(m&&m.type){o=parseInt(m.type,10);if(isNaN(o))o=(void 0);}return {requester:n,type:o};};k.prototype.fromDom=function(){"use strict";j.scry(this.$RequestListController0,'.fbRequestList li.objectListItem').forEach(function(l){var m=l.getAttribute('id');if(m){var n=this.$RequestListController5(m);if(n.requester)this.$RequestListController2[n.requester]={id:m,item:l};++this.$RequestListController1;}}.bind(this));this.$RequestListController6();};k.prototype.$RequestListController3=function(l,m){"use strict";var n=this.$RequestListController2[m.obj.from];if(n){j.remove(n.item);delete this.$RequestListController2[m.obj.from];--this.$RequestListController1;this.$RequestListController6();}};k.prototype.$RequestListController6=function(){"use strict";j.scry(this.$RequestListController0,'li.empty').forEach(function(l){i.conditionShow(l,this.$RequestListController1<=0);}.bind(this));};e.exports=k;},null);
__d("GamesRecGrid",["CSS","DOM","Event","Run","BanzaiODS","csx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m={handleSeeMore:function(n,o){var p=i.listen(n,'click',function(){p.remove();p=null;g.hide(n);var q=h.find(o,"._bva");g.show(q);h.scry(o,"._2iny").forEach(function(r){g.show(r);});k.bumpEntityKey('platform_www','games_homepage_rhc_unit.expand');});j.onLeave(function(){p&&p.remove();});}};e.exports=m;},null);
__d("XGamesReplaceableXOutAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/games\/async\/xout\/replace\/",{unit_type:{type:"String"},fbs:{type:"Int"},app_id:{type:"Int"},ego_imp:{type:"String"},extra_data:{type:"String"},query_type:{type:"String"},query_params:{type:"String"},excluded_app_ids:{type:"StringVector",defaultValue:[]},attributes:{type:"String"}});},null);
__d("GamesReplaceableXOut.react",["cx","React","DOMContainer.react","Parent","XGamesReplaceableXOutAsyncController","AsyncRequest","DOM","invariant","GamesXOut.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=h,q=p.PropTypes,r={},s=0,t='data-games-xout-container';function u(ea){var fa=j.byAttribute(ea,t);if(fa){var ga=parseInt(fa.getAttribute(t),10);if(ga===0){s+=1;ga=s.toString();fa.setAttribute(t,ga);}return ga;}}function v(ea){var fa=u(ea);n(fa);return fa;}function w(ea){var fa=r[v(ea)];return fa?Object.keys(fa):[];}function x(ea,fa){return y(ea,[fa]);}function y(ea,fa){var ga=u(ea);if(ga){var ha=r[ga]=r[ga]||{};for(var ia=0;ia<fa.length;ia+=1)ha[fa[ia]]=true;}}function z(ea){var fa=v(ea);if(fa){delete r[fa];delete aa[fa];}}var aa={};function ba(ea,fa){var ga=u(ea);if(!ga)return;var ha=aa[ga]=(aa[ga]||[]);if(ha.length===0)fa();ha.push(fa);}function ca(ea){var fa=v(ea),ga=aa[fa];if(ga){ga.shift();if(ga.length>0)ga[0]();}}var da=h.createClass({displayName:"GamesReplaceableXOut",propTypes:{unitType:q.string.isRequired,appID:q.string.isRequired,domChild:q.any.isRequired,extraData:q.string.isRequired,egoImp:q.string,attributes:q.string.isRequired},statics:{deleteContainer:z,registerAppIDs:y},getInitialState:function(){return {pending:false};},componentDidMount:function(){var ea=h.findDOMNode(this);x(ea,this.props.appID);},componentWillUnmount:function(){if(this._request)this._request.abandon();},_handleXOutResponse:function(ea){var fa=h.findDOMNode(this),ga=ea.payload;x(fa,ga.app_id);ca(fa);h.unmountComponentAtNode(fa);m.replace(fa,ga.el);},_handleReplace:function(){this.setState({pending:true});ba(h.findDOMNode(this),this._sendFeedback);},_sendFeedback:function(){var ea=j.byAttribute(h.findDOMNode(this),t),fa=(k.getURIBuilder()).setInt('app_id',this.props.appID).setString('extra_data',this.props.extraData).setString('ego_imp',this.props.egoImp).setString('attributes',this.props.attributes).setString('query_type',ea.getAttribute('data-games-xout-query-type')).setString('query_params',ea.getAttribute('data-games-xout-query-params')).setString('unit_type',this.props.unitType).setInt('fbs',ea.getAttribute('data-games-xout-fbs')).setStringVector('excluded_app_ids',w(h.findDOMNode(this))).getURI();this._request=new l(fa).setHandler(this._handleXOutResponse).setMethod('POST');this._request.send();},render:function(){var ea=h.createElement(i,null,this.props.domChild);if(!this.state.pending){ea=h.createElement(o,{onClick:this._handleReplace},ea);}else ea=h.createElement("div",{className:"_4ksu"},ea);return ea;}});e.exports=da;},null);
__d("GamesReplaceableXOutContainer.react",["DOMContainer.react","GamesReplaceableXOut.react","React"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=i,k=j.PropTypes,l=i.createClass({displayName:"GamesReplaceableXOutContainer",propTypes:{domChild:k.any.isRequired},componentWillUnmount:function(){h.deleteContainer(i.findDOMNode(this));},render:function(){return (i.createElement(g,null,this.props.domChild));}});e.exports=l;},null);
__d("XGamesHideableXOutAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/games\/async\/xout\/hide\/",{unit_type:{type:"String"},fbs:{type:"Int"},app_id:{type:"Int"},ego_imp:{type:"String"},extra_data:{type:"String"}});},null);
__d("GamesUninstallXOut.react",["cx","React","DOMContainer.react","XGamesHideableXOutAsyncController","AsyncRequest","GamesXOut.react","URI","Dialog","CSS"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=h,q=p.PropTypes,r=h.createClass({displayName:"GamesUninstallXOut",propTypes:{unitType:q.string.isRequired,appID:q.string.isRequired,domChild:q.any.isRequired,extraData:q.string.isRequired,egoImp:q.string,fbs:q.number.isRequired},getInitialState:function(){return {pending:false};},statics:{appUninstalled:function(s){o.addClass(s,"_4ksu");}},_appUninstalled:function(){var s=(j.getURIBuilder()).setInt('app_id',this.props.appID).setString('extra_data',this.props.extraData).setString('ego_imp',this.props.egoImp).setString('unit_type',this.props.unitType).setInt('fbs',this.props.fbs).getURI();this._request=new k(s).setMethod('POST');this._request.send();},_handleXOut:function(){var s=m('/ajax/settings/apps/delete_app.php').setQueryData({app_id:this.props.appID,legacy:false,dialog:true,xout:true});new n().setAsync(new k(s).setRelativeTo(h.findDOMNode(this))).setCausalElement(h.findDOMNode(this)).show();},render:function(){return (h.createElement(l,{onClick:this._handleXOut},h.createElement(i,null,this.props.domChild)));}});e.exports=r;},null);
__d("GamesGogglesSwitch",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=false,h={enable:function(){g=true;},isEnabled:function(){return g;}};e.exports=h;},null);
__d("GamesImpressionTracker",["VisibilityTracking","throttle","Event","Banzai","Arbiter","cx","GamesGogglesSwitch"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n='data-gamesegoimp',o=1000;function p(v){if(m.isEnabled())v.className=v.className+" "+"_1z5y";}for(var q in g)if(g.hasOwnProperty(q))s[q]=g[q];var r=g===null?null:g.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=g;function s(){"use strict";if(g!==null)g.apply(this,arguments);}s.prototype.handleEvent=function(v,event){"use strict";if(event.name===g.EVENT.VISIBLE){var w=v.getAttribute(n);v.removeAttribute(n);if(w){p(v);j.post('games_ego_imp',{data:w});}}};var t=new s({selector:'[data-gamesegoimp]',handleAllVisibleEvents:true,skipVisibilityHiddenEvents:true,cacheTrackedElements:true}),u=h.acrossTransitions(function(){return t.fireEventCallback();},o,null);t.listeners.addSubscriptions(i.listen(document,'mousemove',u),i.listen(document,'click',u),k.subscribe('games_unit_loaded',function(){return t.refreshAllTrackedElements();}));},null);
__d("AppRequestReminders",["AsyncRequest","CSS","DOM","ge"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=0,l={},m=1,n=j('OtherAppReqReminder'),o=function(u,v,w){l[v]={node:u,seq:m++,reqCount:w};},p=function(u){k=u;},q=function(u){return u.id.split('_')[1];},r=function(u){var v=j(u),w=v.nextSibling;if(w!==n){h.show(w);k-=l[q(w)].reqCount;}s(k);},s=function(u){new g().setURI('/ajax/reminders/update_count.php').setData({new_count:u}).setMethod('POST').send();},t=function(u,v){if(n&&v&&u>0){i.setContent(j('OtherAppReqLabel'),v);}else if(n){h.hide(n);}else h.hide(j('OtherAppReqReminder'));};f.initNode=o;f.handleRemove=r;f.updateCount=t;f.setTotalOtherCount=p;},null);
__d("XGamesGripperNoteUpdaterController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/async\/games\/gripper_note_viewed\/",{});},null);
__d("SidebarAppTickerResizer",["Animation","Arbiter","AsyncRequest","ChatSidebar","CSS","cx","debounce","DOMQuery","Event","SimpleDrag","$","XGamesGripperNoteUpdaterController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=1e-07,s=1,t=85,u=173,v=300,w=46,x=90,y=82,z=150;function aa(ba,ca,da,ea,fa){"use strict";this.$SidebarAppTickerResizer0=q('pagelet_ticker');this.$SidebarAppTickerResizer1=q('pagelet_canvas_nav_content');this.$SidebarAppTickerResizer2=this.$SidebarAppTickerResizer0.parentNode;this.$SidebarAppTickerResizer3=fa;this.$SidebarAppTickerResizer1.style.height=da;this.$SidebarAppTickerResizer4(ba,ca);if(da===null)if(ea!==null){this.$SidebarAppTickerResizer5();this.$SidebarAppTickerResizer6(this.$SidebarAppTickerResizer7());}else h.subscribe('AppsDivebar/show-apps',this.$SidebarAppTickerResizer5.bind(this));if(!fa){this.$SidebarAppTickerResizer8();k.hide(ba);}h.subscribe('ChatSidebarDropdown/closeTicker',this.$SidebarAppTickerResizer8.bind(this));h.subscribe('ChatSidebarDropdown/openTicker',this.$SidebarAppTickerResizer9.bind(this));if(ea){var ga=n.scry(document.body,'#pagelet_ticker')[0],ha=ga&&ga.parentNode,ia,ja=function(){if(!k.shown(ha))return;var ka=b('XGamesGripperNoteUpdaterController').getURIBuilder().getURI();new i().setURI(ka).send();ea.show();if(ia)ia.unsubscribe();};if(ha&&k.shown(ha)){ja();}else ia=h.subscribe('ticker/show',ja);}this.$SidebarAppTickerResizera=m(this.$SidebarAppTickerResizer5.bind(this),200);o.listen(window,'resize',this.$SidebarAppTickerResizera);}aa.prototype.$SidebarAppTickerResizer5=function(ba){"use strict";this.$SidebarAppTickerResizerb();var ca=Math.round(parseFloat(this.$SidebarAppTickerResizer0.style.height));if(ca>Math.round(this.$SidebarAppTickerResizerc())||this.$SidebarAppTickerResizerd&&this.$SidebarAppTickerResizerd>s){var da=(this.$SidebarAppTickerResizerd/this.$SidebarAppTickerResizere)*100,ea=this.$SidebarAppTickerResizerf(0,this.$SidebarAppTickerResizerc()-da);if(!(ba&&ba.type==='resize'))this.$SidebarAppTickerResizerg(ea);j.resize();}};aa.prototype.$SidebarAppTickerResizerc=function(){"use strict";if(!this.$SidebarAppTickerResizer3)return 0;if(!j.isVisible())return x;return Math.min(x,(this.$SidebarAppTickerResizere-this.$SidebarAppTickerResizerh-y)*100/this.$SidebarAppTickerResizere);};aa.prototype.$SidebarAppTickerResizer4=function(ba,ca){"use strict";var da=new p(ba);da.subscribe('start',this.$SidebarAppTickerResizeri.bind(this));da.subscribe(['update','end'],this.$SidebarAppTickerResizerj.bind(this));var ea=new p(ca);ea.subscribe('start',this.$SidebarAppTickerResizeri.bind(this));ea.subscribe('update',this.$SidebarAppTickerResizerk.bind(this));ea.subscribe('end',this.$SidebarAppTickerResizerl.bind(this));};aa.prototype.$SidebarAppTickerResizeri=function(ba,event){"use strict";this.$SidebarAppTickerResizerm=event.clientY;this.$SidebarAppTickerResizerb();this.$SidebarAppTickerResizern();};aa.prototype.$SidebarAppTickerResizerb=function(){"use strict";this.$SidebarAppTickerResizerh=this.$SidebarAppTickerResizer1.offsetTop;this.$SidebarAppTickerResizero=this.$SidebarAppTickerResizer0.offsetHeight;this.$SidebarAppTickerResizere=this.$SidebarAppTickerResizer2.offsetHeight;this.$SidebarAppTickerResizerd=this.$SidebarAppTickerResizer1.offsetHeight;this.$SidebarAppTickerResizerp=this.$SidebarAppTickerResizerd;};aa.prototype.$SidebarAppTickerResizern=function(){"use strict";k.addClass(this.$SidebarAppTickerResizer2,"_4vfq");};aa.prototype.$SidebarAppTickerResizerq=function(){"use strict";k.removeClass(this.$SidebarAppTickerResizer2,"_4vfq");};aa.prototype.$SidebarAppTickerResizerj=function(ba,event){"use strict";var ca=(this.$SidebarAppTickerResizerd/this.$SidebarAppTickerResizere)*100,da=this.$SidebarAppTickerResizerf(event.clientY-this.$SidebarAppTickerResizerm,this.$SidebarAppTickerResizerc()-ca);if(ba=='end'){this.$SidebarAppTickerResizerq();this.$SidebarAppTickerResizerg(da);}j.resize();};aa.prototype.$SidebarAppTickerResizerk=function(ba,event){"use strict";var ca=-this.$SidebarAppTickerResizerd,da=this.$SidebarAppTickerResizer7()-this.$SidebarAppTickerResizerd,ea=this.$SidebarAppTickerResizerr(event.clientY-this.$SidebarAppTickerResizerm,ca,da);this.$SidebarAppTickerResizerf(-ea,this.$SidebarAppTickerResizerc());this.$SidebarAppTickerResizerp=this.$SidebarAppTickerResizerd+ea;this.$SidebarAppTickerResizerp=Math.max(s,this.$SidebarAppTickerResizerp);this.$SidebarAppTickerResizer1.style.height=this.$SidebarAppTickerResizerp+'px';};aa.prototype.$SidebarAppTickerResizerl=function(ba,event){"use strict";var ca=this.$SidebarAppTickerResizerp,da=this.$SidebarAppTickerResizert(this.$SidebarAppTickerResizerp),ea=this.$SidebarAppTickerResizerf(this.$SidebarAppTickerResizerd-da,this.$SidebarAppTickerResizerc());if(this.$SidebarAppTickerResizerd!=da){this.$SidebarAppTickerResizer6(da);this.$SidebarAppTickerResizerg(ea);}new g(this.$SidebarAppTickerResizer1).from('height',ca).to('height',da).duration(v).go();};aa.prototype.$SidebarAppTickerResizerf=function(ba,ca){"use strict";var da=this.$SidebarAppTickerResizero+ba,ea=(da/this.$SidebarAppTickerResizere)*100;ea=Math.max(r,Math.min(ca,ea));this.$SidebarAppTickerResizer0.style.height=ea+'%';return ea;};aa.prototype.$SidebarAppTickerResizert=function(ba){"use strict";var ca=this.$SidebarAppTickerResizeru(),da=this.$SidebarAppTickerResizer7();return (ba<(da-w))?((ba<(ca-w))?s:ca):da;};aa.prototype.$SidebarAppTickerResizeru=function(){"use strict";return t;};aa.prototype.$SidebarAppTickerResizer7=function(){"use strict";return u;};aa.prototype.$SidebarAppTickerResizerv=function(ba){"use strict";var ca=this.$SidebarAppTickerResizer7();return (ba<0)?s:(ba>ca?ca:ba);};aa.prototype.$SidebarAppTickerResizerr=function(ba,ca,da){"use strict";return (ba<ca)?ca:((ba>da)?da:ba);};aa.prototype.$SidebarAppTickerResizerg=function(ba){"use strict";new i('/ajax/feed/ticker/resize').setData({height:''+ba}).setMethod('POST').send();h.inform('Ticker/resized');};aa.prototype.$SidebarAppTickerResizer6=function(ba){"use strict";new i('/ajax/feed/apps/resize').setData({height:''+ba}).setMethod('POST').send();};aa.prototype.$SidebarAppTickerResizerw=function(ba){"use strict";var ca=this.$SidebarAppTickerResizero,da=this.$SidebarAppTickerResizere*ba/100;new g(this.$SidebarAppTickerResizer0).from('height',ca).to('height',da).duration(z).ondone(function(){this.$SidebarAppTickerResizer0.style.height=ba+'%';j.resize();}.bind(this)).go();};aa.prototype.$SidebarAppTickerResizer8=function(){"use strict";this.$SidebarAppTickerResizerb();this.$SidebarAppTickerResizerw(0);this.$SidebarAppTickerResizerg('0.0');};aa.prototype.$SidebarAppTickerResizer9=function(){"use strict";this.$SidebarAppTickerResizerb();var ba=((this.$SidebarAppTickerResizere-this.$SidebarAppTickerResizerh-y-this.$SidebarAppTickerResizerd)*50/this.$SidebarAppTickerResizere);this.$SidebarAppTickerResizerw(ba);this.$SidebarAppTickerResizerg(ba);};e.exports=aa;},null);
__d("SidebarTicker",["Arbiter","ChatSidebar","CSS","DOM","Run","TickerController","$","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();function o(){this._ticker=m('pagelet_ticker');this._initSubscriptions();if(i.hasClass(document.documentElement,'sidebarMode'))this._onSidebarShow();}o.hide=function(){k.onAfterLoad(function(){j.remove(m('pagelet_ticker'));j.remove(j.find(document.body,'div.fbSidebarGripper'));h.resize();});};n(o.prototype,{_initSubscriptions:function(){this._subscriptions=[g.subscribe('sidebar/show',this._onSidebarShow.bind(this))];},_onSidebarShow:function(){l.show(this._ticker);}});e.exports=o;},null);
__d("MegaphoneHelper",["Animation","Arbiter","AsyncRequest","DOM","Dialog","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m={hideStory:function(n,o,p,q,r){var s={mp_id:n,location:o,context:q};new i().setURI('/ajax/megaphone/megaphone_hide.php').setMethod('POST').setData(s).setHandler(function(u){r&&r(u);}).send();var t=l(p);if(t)new g(t).to('height',0).duration(500).hide().go();},createModalStory:function(n,o,p,q){var r;if(!n.buttons||!n.buttons.length){n.buttons=k.CLOSE;r=m.hideStory(o,p,q,null);}var s=new k(n);if(r)s.setHandler(r);s.show();},buttonOnClick:function(n,o,p,q,r,s,t,u){var v=function(){if(r){new i().setURI(q).send();}else if(!t)document.location.href=q;};if(s){m.hideStory(n,o,u||'',p,v);if(t&&q)window.open(q);}else v();},renderFullWidth:function(n,o,p){var q=l(n);j.prependContent(q,o);h.inform('Megaphone/show',n,h.BEHAVIOR_PERSISTENT);}};e.exports=m;},null);
__d("legacy:megaphone",["MegaphoneHelper"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.MegaphoneHelper=b('MegaphoneHelper');},3);
__d("FBRTCExperiments",["FBRTCStruct","QE"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={},j=new g([{VIDEO_QUALITY:'rtc_www_video_quality_new'},{AUTO_DISABLE:'rtc_www_stats_interpreter_new'}]),k={setExperimentsConfig:function(l){i=l||{};},getExperiment:function(l){var m=this._getExperimentName(l);if(this._hasExperiment(m)){return i[m];}else return {};},logExposure:function(l){var m=this._getExperimentName(l);if(this._hasExperiment(m))h.logExposure(m);},_getExperimentName:function(l){return j.strNames[l];},_hasExperiment:function(l){return i.hasOwnProperty(l);}};k.QE=j;e.exports=k;},null);
__d("FBRTCConfig",["FBRTCExperiments","UserAgent"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={},j={setConfig:function(k,l,m){i=k;g.setExperimentsConfig(k.qe);},statsInterpreterConfig:function(){var k=g.getExperiment(g.QE.AUTO_DISABLE),l={};if(k.hasOwnProperty('rtt_weight'))l.rtt_weight=parseInt(k.rtt_weight,10);if(k.hasOwnProperty('frr_weight'))l.frr_weight=parseInt(k.frr_weight,10);if(k.hasOwnProperty('plr_weight'))l.plr_weight=parseInt(k.plr_weight,10);if(k.hasOwnProperty('score_threshold'))l.score_threshold=parseInt(k.score_threshold,10);if(k.hasOwnProperty('bad_score_count'))l.bad_score_count=parseInt(k.bad_score_count,10);return l;},settingsEnabled:function(){return i.enable_settings;},shouldAutoDisableVideo:function(){var k=g.getExperiment(g.QE.AUTO_DISABLE);return this._getBool(k,'disable_video',false);},shouldUseHdVideo:function(){var k=g.getExperiment(g.QE.VIDEO_QUALITY);return this._getBool(k,'hd_video',true);},unsupportedBrowserUrl:function(){if(i.troubleshooting_urls&&i.troubleshooting_urls.unsupported_browser)return i.troubleshooting_urls.unsupported_browser;return 'https://www.facebook.com/help/211644178877843';},userMediaErrorUrl:function(){if(i.troubleshooting_urls&&i.troubleshooting_urls.user_media_error)return i.troubleshooting_urls.user_media_error;return 'https://www.facebook.com/help/232232800134371';},userMediaPermissionErrorUrl:function(){if(i.troubleshooting_urls&&i.troubleshooting_urls.user_media_permission_error)return i.troubleshooting_urls.user_media_permission_error;return 'https://www.facebook.com/help/232232800134371';},useNewAdminMsg:function(){return i.use_new_admin_msg;},supportedSignalingExperiments:function(){var k=[];if(h.isBrowser('Chrome')||h.isBrowser('Opera'))k.push('sdp_update');return k;},_getBool:function(k,l,m){if(k.hasOwnProperty(l)){return k[l]==='1'||k[l]===1||k[l]==='true';}else return m;}};e.exports=j;},null);
__d("FBRTCIceCache",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(){"use strict";this.$FBRTCIceCache0={};}g.prototype.reset=function(h,i){"use strict";if(!this.$FBRTCIceCache0[h])this.$FBRTCIceCache0[h]={};this.$FBRTCIceCache0[h][i]=[];};g.prototype.cacheCandidate=function(h,i,j){"use strict";if(!this.$FBRTCIceCache0[h])this.$FBRTCIceCache0[h]={};if(!this.$FBRTCIceCache0[h][i])this.$FBRTCIceCache0[h][i]=[];this.$FBRTCIceCache0[h][i].unshift(j);};g.prototype.drainCandidates=function(h,i,j){"use strict";if(this.$FBRTCIceCache0[h]&&this.$FBRTCIceCache0[h][i]){var k;while(this.$FBRTCIceCache0[h][i].length>0){k=this.$FBRTCIceCache0[h][i].pop();j(k);}}};e.exports=g;},null);
__d("XIncomingCallDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/videocall\/incoming\/",{user_id:{type:"Int",required:true},call_id:{type:"Int"},__asyncDialog:{type:"Int"}});},null);
__d("FBRTCIncomingCall",["AsyncDialog","AsyncRequest","BanzaiLogger","Dialog","setTimeoutAcrossTransitions","XIncomingCallDialogController","FBRTCSoundController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=70000;function o(p,q,r,s){"use strict";this.peerID=p;this.callID=q;this.callSummary=r;this.offerMsg=s;this.ringing=false;this.$FBRTCIncomingCall0=null;}o.prototype.showIncomingDialog=function(){"use strict";var p=j.getCurrent();if(p)p.hide();this.ringing=true;this.timeout=k(this.$FBRTCIncomingCall1.bind(this),n);var q=l.getURIBuilder().setInt('user_id',this.peerID).setInt('call_id',this.callID).getURI();this.$FBRTCIncomingCall0=new h(q);g.send(this.$FBRTCIncomingCall0,this.$FBRTCIncomingCall2.bind(this));};o.prototype.$FBRTCIncomingCall2=function(p){"use strict";this.$FBRTCIncomingCall0=null;this.view=p;p.subscribe('confirm',this.$FBRTCIncomingCall3.bind(this));p.subscribe('cancel',this.$FBRTCIncomingCall4.bind(this));m.playIncomingRingtone(this.callID,this.peerID,true);};o.prototype.cancel=function(){"use strict";if(this.$FBRTCIncomingCall0){this.$FBRTCIncomingCall0.abort();this.$FBRTCIncomingCall0=null;}if(this.timeout)clearTimeout(this.timeout);if(this.view){this.view.hide();this.view=null;}m.stopIncomingRingtone();this.ringing=false;};o.prototype.isForPeer=function(p){"use strict";return this.peerID===p;};o.prototype.isForCall=function(p){"use strict";return this.callID===p;};o.prototype.isForPeerAndCall=function(p,q){"use strict";return (this.peerID===p)&&(this.callID===q);};o.prototype.$FBRTCIncomingCall3=function(p,q){"use strict";this.cancel();i.log('VideoCallLoggerConfig',{event:'accept_call_click'});if(this.onAnswer)this.onAnswer(this.peerID,this.callID,this.offerMsg,this.callSummary,q.value);};o.prototype.$FBRTCIncomingCall4=function(){"use strict";this.cancel();if(this.onIgnore)this.onIgnore(this.peerID,this.callID,this.callSummary);};o.prototype.$FBRTCIncomingCall1=function(){"use strict";this.cancel();if(this.onTimeout)this.onTimeout(this.peerID,this.callID,this.callSummary);};e.exports=o;},null);
__d("FBRTCLocalMessageQueue",["CacheStorage","FBRTCLogger","randomInt"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j='localstorage',k='RTC_',l='offer',m='data_',n='last_write_index',o='session_id',p=30*1000,q=20*1000,r=15*1000,s=500;function t(){"use strict";this.$FBRTCLocalMessageQueue0=null;this.$FBRTCLocalMessageQueue1=null;this.$FBRTCLocalMessageQueue2=null;this.$FBRTCLocalMessageQueue3=null;this.$FBRTCLocalMessageQueue4=null;this.$FBRTCLocalMessageQueue5=h.getInstance();}t.prototype.enqueueOffer=function(u,v){"use strict";var w=this.$FBRTCLocalMessageQueue6(u);this.$FBRTCLocalMessageQueue7(w,l,v);};t.prototype.getOffer=function(u){"use strict";var v=this.$FBRTCLocalMessageQueue6(u);return this.$FBRTCLocalMessageQueue8(v,l);};t.prototype.removeOffer=function(u){"use strict";var v=this.$FBRTCLocalMessageQueue6(u);v.remove(l);};t.prototype.maybeEnqueueMessage=function(u,v,w){"use strict";if(!this.$FBRTCLocalMessageQueue9(u))return;var x=this.$FBRTCLocalMessageQueue6(u),y=x.get(n)||0;y++;x.set(n,y,true);var z=m+y.toString();this.$FBRTCLocalMessageQueue7(x,z,w);this.$FBRTCLocalMessageQueue5.logToConsole('Queued '+z);};t.prototype.enableEnqueuing=function(u,v,w){"use strict";this.$FBRTCLocalMessageQueue5.logInfo(u,v,'Enabled enqueuing');if(this.$FBRTCLocalMessageQueue1)clearTimeout(this.$FBRTCLocalMessageQueue1);if(w===(void 0))w=q;if(this.$FBRTCLocalMessageQueue0!==u){var x=this.$FBRTCLocalMessageQueue6(u);this.$FBRTCLocalMessageQueue0=u;x.set(n,0,true);x.set(o,i(0,4294967295),true);}var y=this;this.$FBRTCLocalMessageQueue1=setTimeout(function(){y.$FBRTCLocalMessageQueue5.logInfo(u,v,'Disabled enqueuing');y.$FBRTCLocalMessageQueue0=null;y.$FBRTCLocalMessageQueue1=null;},w);};t.prototype.enableDequeuing=function(u,v,w){"use strict";if(w===(void 0))w=r;this.$FBRTCLocalMessageQueuea(u,v,w);};t.prototype.$FBRTCLocalMessageQueuea=function(u,v,w){"use strict";var x=this.$FBRTCLocalMessageQueue6(u),y=x.get(o);if(y!==this.$FBRTCLocalMessageQueue4){this.$FBRTCLocalMessageQueue4=y;this.$FBRTCLocalMessageQueue3=0;}var z=x.get(n)||0,aa=0;while(this.$FBRTCLocalMessageQueue3<z){this.$FBRTCLocalMessageQueue3++;var ba=m+this.$FBRTCLocalMessageQueue3.toString(),ca=this.$FBRTCLocalMessageQueueb(x,ba);if(ca&&v){v(ca);aa++;}}this.$FBRTCLocalMessageQueue5.logToConsole('Dequeued '+aa+' ('+u+') with '+w+' left)');if(w>0){var da=this;this.$FBRTCLocalMessageQueue2=setTimeout(da.$FBRTCLocalMessageQueuea.bind(da,u,v,w-s),s);}else{this.$FBRTCLocalMessageQueue2=null;this.$FBRTCLocalMessageQueue3=null;this.$FBRTCLocalMessageQueue4=null;}};t.prototype.$FBRTCLocalMessageQueue9=function(u){"use strict";return (this.$FBRTCLocalMessageQueue0===u);};t.prototype.$FBRTCLocalMessageQueue7=function(u,v,w){"use strict";var x={__t:Date.now(),__d:w};u.set(v,x);};t.prototype.$FBRTCLocalMessageQueue8=function(u,v){"use strict";var w=u.get(v);if(w&&this.$FBRTCLocalMessageQueuec(w)){return w.__d;}else if(w)u.remove(v);return null;};t.prototype.$FBRTCLocalMessageQueueb=function(u,v){"use strict";var w=this.$FBRTCLocalMessageQueue8(u,v);if(w!==null){u.remove(v);return w;}return null;};t.prototype.$FBRTCLocalMessageQueuec=function(u){"use strict";return Date.now()-u.__t<p;};t.prototype.$FBRTCLocalMessageQueue6=function(u){"use strict";return new g(j,k+u+'_');};e.exports=t;},null);
__d("FBRTCSdpUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g='m=video 0',h=function(k){return k.match(/^a=rtpmap:(\d+)\s/)[1];},i=function(k,l,m){var n=h(k[l]),o=k[m].split('RTP/SAVPF'),p=o[1].split(/\s+/),q=p.indexOf(n);p.splice(q,1);o[1]=p.join(' ');k[m]=o.join('RTP/SAVPF');k.splice(l,1);},j={addIceOptionToSdp:function(k,l){"use strict";var m="a=ice-options:",n=k.indexOf(m);if(n>=0){var o=k.indexOf("\r",n);return [k.slice(0,o)," ",l,k.slice(o)].join('');}var p=m+l,q=k.split("\r\n"),r=false,s=-1;for(var t=0;t<q.length;t++){var u=q[t].slice(0,2);if(u=="s="){r=true;continue;}if(r&&u=="a="){s=t;break;}}if(s>=0){q.splice(s,0,p);return q.join("\r\n");}return [k,p,"\r\n"].join('');},preferIsac:function(k){var l=k.split("\r\n"),m=-1,n=-1,o=-1,p=-1;for(var q=0;q<l.length;q++){var r=l[q];if(r.match(/m=audio\s+\d+\s+RTP\/SAVPF(\s+\d+)+/))m=q;if(p===-1&&m>-1&&r.match(/^a=rtpmap:/))p=q;if(r.match(/^a=rtpmap:\d+\s+ISAC\/16000/))n=q;if(r.match(/^a=rtpmap:\d+\s+ISAC\/32000/))o=q;}if(m===-1||n===-1||p===-1)return l.join("\r\n");var s=l[n];i(l,n,m);l.splice(p,0,s);l[m]=l[m].replace('RTP/SAVPF','RTP/SAVPF '+h(s));if(o>-1)i(l,o,m);return l.join("\r\n");},disableVideo:function(k){var l=/m=video\s+\S+/;k=k.replace(l,g);return k;},removeBadCodecLines:function(k){var l=k.split("\r\n"),m=-1,n=[],o;for(o=0;o<l.length;o++){var p=l[o];if(p.match(/m=audio\s+\d+\s+RTP\/SAVPF(\s+\d+)+/)){m=o;continue;}if(p.match(/^a=rtpmap:\d+\s+\/\d+/))n.push(o);}if(m===-1||!n)return l.join("\r\n");n.sort(function(q,r){return (r-q);});if(n)for(o=0;o<n.length;o++)i(l,n[o],m);return l.join("\r\n");},fixMobileIceSdp:function(k){k=k.replace(/^a=/,'');k=k.split(/\s+username\s+.+password.+/)[0];var l=k.match(/\s+relay\s+|\s+srflx\s+/),m=k.match(/raddr.+rport.+/);if(l&&!m){l=l[0];var n=k.split(l),o=n[1].match(/^(\d+\.\d+\.\d+\.\d+)\s+(\d+)\s+/),p,q;if(o){p=o[1];q=o[2];n[1]=n[1].replace(o[0],'');}else{o=n[0].split(/\s+/);p=o[4];q=o[5];}k=(n[0]+l+"raddr "+p+" rport "+q+" "+n[1]);}return k;},isVideoSupported:function(k){return (k&&k.indexOf('m=video')>-1&&k.indexOf(g)===-1);},setDtlsRole:function(k,l){if(!k.match(/setup:(active|passive|actpass)/)){return k.replace(/(a=fingerprint:.+)/g,("$1\r\na=setup:"+l));}else return k.replace(/setup:actpass/g,("setup:"+l));}};e.exports=j;},null);
__d("FBRTCMessage",["CurrentUser","FBRTCConstants","FBRTCSdpUtils","PresencePrivacy","VideoCallSupport"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l='mobile';function m(n){"use strict";if(!this.$FBRTCMessage0(n))throw 'invalid webrtc message';this.peerID=n.from;this.callID=parseInt(n.call_id,10);this.msg=JSON.parse(n.payload);this.msgType=this.msg.type;this.msgID=this.msg.msg_id;this.source=n.source;this.$FBRTCMessage1();this.$FBRTCMessage2();}m.prototype.$FBRTCMessage0=function(n){"use strict";return n.from&&n.call_id&&n.payload;};m.prototype.$FBRTCMessage2=function(){"use strict";if(k.isVideoInteropSupported())return;if(this.isFromMobile()){if(this.msg.sdp)this.msg.sdp=i.disableVideo(this.msg.sdp);if(this.msgType===h.PayloadType.SET_VIDEO||this.msgType===h.PayloadType.OFFER||this.msgType===h.PayloadType.ICERESTART_OFFER||this.msgType===h.PayloadType.ANSWER||this.msgType===h.PayloadType.ICERESTART_ANSWER)this.msg.videoon=false;}};m.prototype.$FBRTCMessage1=function(){"use strict";if(this.isFromMobile()&&this.msg.sdp)this.msg.sdp=i.removeBadCodecLines(this.msg.sdp);};m.prototype.isOffer=function(){"use strict";return this.msgType===h.PayloadType.OFFER;};m.prototype.isFromMobile=function(){"use strict";return (this.source===l);};m.prototype.isForCall=function(n){"use strict";return !n.callID||n.callID===this.callID||this.msgType===h.PayloadType.OFFER||this.msgType===h.PayloadType.ICERESTART_OFFER||this.msgType===h.PayloadType.PCRESTART_OFFER||this.msgType===h.PayloadType.ICE_CANDIDATE;};m.prototype.isFromVisiblePeer=function(){"use strict";return (g.getID()===this.peerID||j.allows(this.peerID));};m.prototype.getSignalingExperiments=function(){"use strict";if(this.isFromMobile()&&!this.msg.experiments)return ['sdp_update'];return this.msg.experiments;};e.exports=m;},null);
__d("FBRTCMessageDedup",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={},h={check:function(i,j,k){if(!g[i])g[i]={};if(!g[i][j])g[i][j]={};if(g[i][j][k])return false;g[i][j][k]=true;return true;}};e.exports=h;},null);
__d("XVideoCallSendMessageController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/videocall\/sendmessage\/",{recipient_id:{type:"Int",required:true},msg_id:{type:"Int",required:true},message_info:{type:"String",required:true},webrtc_fbtrace:{type:"Int"}});},null);
__d("FBRTCMessageSender",["CurrentUser","XVideoCallSendMessageController","FBRTCConfig","FBRTCConstants","FBRTCLogger","FBRTCUtils","SiteData","Fbtrace"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=0;function p(){"use strict";this.onSendFailure=null;this.$FBRTCMessageSender0=k.getInstance();}p.prototype.sendOffer=function(q,r,s,t){"use strict";return this.$FBRTCMessageSender1(j.PayloadType.OFFER,q,r,s,t);};p.prototype.sendAnswer=function(q,r,s,t){"use strict";return this.$FBRTCMessageSender1(j.PayloadType.ANSWER,q,r,s,t);};p.prototype.sendPCRestartOffer=function(q,r,s,t){"use strict";return this.$FBRTCMessageSender1(j.PayloadType.PCRESTART_OFFER,q,r,s,t);};p.prototype.sendSdpUpdate=function(q,r,s,t){"use strict";return this.$FBRTCMessageSender1(j.PayloadType.SDP_UPDATE,q,r,s,t);};p.prototype.resendSdpMessage=function(q,r){"use strict";r.flag=1;this.$FBRTCMessageSender2(q,r);};p.prototype.$FBRTCMessageSender1=function(q,r,s,t,u){"use strict";var v=this.$FBRTCMessageSender3(s,q);v.sdp=t;if(q===j.PayloadType.OFFER){v.handlescollision=true;v.pranswer=false;}if(q===j.PayloadType.OFFER||q===j.PayloadType.ANSWER){v.icerestart=false;v.experiments=i.supportedSignalingExperiments();}v.videoon=u;this.$FBRTCMessageSender2(r,v);return v;};p.prototype.sendIceCandidate=function(q,r,s){"use strict";var t=this.$FBRTCMessageSender3(r,j.PayloadType.ICE_CANDIDATE);t.sdp_mid=s.sdpMid;t.label=s.sdpMLineIndex;t.sdp=s.candidate;this.$FBRTCMessageSender4(q,t);};p.prototype.sendHangup=function(q,r,s,t){"use strict";var u=this.$FBRTCMessageSender3(r,j.PayloadType.HANGUP);u.reason=j.callEndReasonString(s);this.$FBRTCMessageSender4(q,u,t);};p.prototype.sendOtherDismiss=function(q){"use strict";var r=this.$FBRTCMessageSender3(q,j.PayloadType.OTHER_DISMISS);this.$FBRTCMessageSender4(g.getID(),r);};p.prototype.sendOfferAck=function(q,r,s){"use strict";this.$FBRTCMessageSender5(q,r,s,j.PayloadType.OFFER_ACK);};p.prototype.sendOfferNack=function(q,r,s){"use strict";this.$FBRTCMessageSender5(q,r,s,j.PayloadType.OFFER_NACK,1356043);};p.prototype.sendAnswerAck=function(q,r,s){"use strict";this.$FBRTCMessageSender5(q,r,s,j.PayloadType.ANSWER_ACK);};p.prototype.sendMuteStateUpdate=function(q,r,s){"use strict";var t=this.$FBRTCMessageSender3(r,j.PayloadType.SET_VIDEO);t.videoon=s;this.$FBRTCMessageSender4(q,t);};p.prototype.sendMsgAck=function(){"use strict";};p.prototype.sendOk=function(){"use strict";};p.prototype.sendPranswer=function(){"use strict";};p.prototype.sendIcerestartAnswer=function(){"use strict";};p.prototype.$FBRTCMessageSender3=function(q,r){"use strict";var s=l.generateRandomInt(),t={version:o,type:r,call_id:q,msg_id:s};return t;};p.prototype.$FBRTCMessageSender2=function(q,r){"use strict";this.$FBRTCMessageSender4(q,r,false,true,true);};p.prototype.$FBRTCMessageSender5=function(q,r,s,t,u){"use strict";var v=this.$FBRTCMessageSender3(r,t);v.ack_id=s.msg_id;if(s.flag===1)v.flag=1;if(u!==(void 0))s.errorCode=u;this.$FBRTCMessageSender4(q,v);};p.prototype.$FBRTCMessageSender4=function(q,r,s,t,u){"use strict";var v=r.msg_id,w={peer_id:q,call_id:r.call_id,msg_id:v,msg_type:r.type},x={call_id:r.call_id,msg_id:v,user_id:g.getID(),recipient_id:q,msg_type:r.type,app_id:256281040558,app_version:String(m.revision||'dev'),op:'sendServerRequest:'+r.type,policy:'WebRTC'},y=n.requestReceive('browser',String(m.revision||'dev'),x),z=(h.getURIBuilder()).setInt('recipient_id',q).setInt('msg_id',v).setString('message_info',JSON.stringify(r)).setInt('webrtc_fbtrace',y.isOn()?1:0).getURI();if(t)var aa=this.$FBRTCMessageSender4.bind(this,q,r,s,false,u);var ba=this.$FBRTCMessageSender6.bind(this,w),ca=this.$FBRTCMessageSender7.bind(this,w,aa,u);n.withDefaultNode(y,function(){l.sendServerRequest(z,ba,ca,s);});if(this.onMessageSent)this.onMessageSent(q,r);this.$FBRTCMessageSender0.logSentMessage(q,r.call_id,r);};p.prototype.$FBRTCMessageSender6=function(q){"use strict";this.$FBRTCMessageSender0.logSentMessageSuccess(q.peer_id,q.call_id,q.msg_type,q.msg_id);};p.prototype.$FBRTCMessageSender7=function(q,r,s,t){"use strict";if(t)var u=t.getError?t.getError():t;this.$FBRTCMessageSender0.logSentMessageFailure(q.peer_id,q.call_id,q.msg_type,q.msg_id,u);if(this.onSendFailure){var v=null;if(u===1356001||u===1356049){v=j.CallEndReason.NO_PERMISSION;}else if(u===1356046||u===1356045){v=j.CallEndReason.CALLER_NOT_VISIBLE;}else if(u===1356003||u===1356002||u===1356044||u===1356048){v=j.CallEndReason.OTHER_NOT_CAPABLE;}else if(r){r();return;}else if(s)v=j.CallEndReason.SIGNALING_MESSAGE_FAILED;if(v)this.onSendFailure(v,u);}};e.exports=p;},null);
__d("XVideoCallMissedCallController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/videocall\/missed_call\/",{user_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}});},null);
__d("FBRTCMissedVideoCallHandler",["AsyncDialog","AsyncRequest","FBRTCLogger","VideoCallSupport","XVideoCallMissedCallController"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=null,m=null;n.hideDialog=function(){"use strict";if(l){l.hide();l=null;m=null;}};function n(o){"use strict";this.$FBRTCMissedVideoCallHandler0=o;this.$FBRTCMissedVideoCallHandler1=null;}n.prototype.onCallMissed=function(o){"use strict";if(!j.isWebrtcSupported())return;if(m===null)this.$FBRTCMissedVideoCallHandler1=o;};n.prototype.showDialog=function(){"use strict";if(!this.$FBRTCMissedVideoCallHandler1||m)return;m=this.$FBRTCMissedVideoCallHandler1;this.$FBRTCMissedVideoCallHandler1=null;var o=k.getURIBuilder().setInt('user_id',m).getURI(),p=new h(o);g.send(p,this.$FBRTCMissedVideoCallHandler2.bind(this));};n.prototype.$FBRTCMissedVideoCallHandler2=function(o){"use strict";l=o;o.subscribe('confirm',this.$FBRTCMissedVideoCallHandler3.bind(this));o.subscribe('cancel',this.$FBRTCMissedVideoCallHandler4.bind(this));};n.prototype.$FBRTCMissedVideoCallHandler3=function(){"use strict";this.$FBRTCMissedVideoCallHandler0.showOutgoingCallDialog(m,'missed_call_dialog',i.Trigger.RETURN_CALL);};n.prototype.$FBRTCMissedVideoCallHandler4=function(){"use strict";n.hideDialog();};e.exports=n;},null);
__d("FBRTCIncomingCallController",["Banzai","FBRTCCallSummary","FBRTCCallSummaryStore","FBRTCCallUI","FBRTCConstants","FBRTCIceCache","FBRTCIncomingCall","FBRTCLocalMessageQueue","FBRTCLogger","FBRTCMessage","FBRTCMessageDedup","FBRTCMessageSender","FBRTCMissedVideoCallHandler","FBRTCUnsupportedBrowserMessage","VideoCallSupport"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();function v(w){"use strict";this.$FBRTCIncomingCallController0=null;this.$FBRTCIncomingCallController1=new s(w);this.$FBRTCIncomingCallController2=new r();this.$FBRTCIncomingCallController3=new n();this.$FBRTCIncomingCallController4=i.getInstance();this.$FBRTCIncomingCallController5=new l();this.$FBRTCIncomingCallController6=o.getInstance();w.setRTCMessageHandler(this.$FBRTCIncomingCallController7.bind(this));g.subscribe(g.SEND,h.logSavedSummaries.bind(this,this.$FBRTCIncomingCallController4));}v.prototype.startingCallTo=function(w,x){"use strict";this.$FBRTCIncomingCallController3.enableEnqueuing(w,x);};v.prototype.$FBRTCIncomingCallController7=function(w){"use strict";var x;try{x=new p(w);}catch(y){this.$FBRTCIncomingCallController6.logErrorWithoutID('Unknown data: '+JSON.stringify(w));return;}if(!x.isFromVisiblePeer()){this.$FBRTCIncomingCallController6.logInfo(x.peerID,x.callID,'Invisible Peer');return;}if(!q.check(x.peerID,x.callID,x.msgID)){this.$FBRTCIncomingCallController6.logInfo(x.peerID,x.callID,'Ignoring message (duplicate): '+x.msgID);return;}this.$FBRTCIncomingCallController6.logReceivedMessage(x.peerID,x.callID,x.msg);if(u.isWebrtcSupported())this.$FBRTCIncomingCallController3.maybeEnqueueMessage(x.peerID,x.callID,w);switch(x.msgType){case k.PayloadType.OFFER:this.$FBRTCIncomingCallController8(x);break;case k.PayloadType.HANGUP:this.$FBRTCIncomingCallController9(x);break;case k.PayloadType.OTHER_DISMISS:this.$FBRTCIncomingCallControllera(x);break;case k.PayloadType.ICE_CANDIDATE:if(u.isWebrtcSupported())this.$FBRTCIncomingCallController5.cacheCandidate(x.peerID,x.callID,w);break;case k.PayloadType.OFFER_ACK:if(u.isWebrtcSupported()){this.$FBRTCIncomingCallController3.enableEnqueuing(x.peerID,x.callID);this.$FBRTCIncomingCallController3.maybeEnqueueMessage(x.peerID,x.callID,w);}break;case k.PayloadType.ANSWER:case k.PayloadType.MSG_ACK:case k.PayloadType.OK:case k.PayloadType.PING:case k.PayloadType.PRANSWER:case k.PayloadType.ICERESTART_OFFER:case k.PayloadType.ICERESTART_ANSWER:case k.PayloadType.PCRESTART_ANSWER:case k.PayloadType.PCRESTART_OFFER:case k.PayloadType.SDP_UPDATE:case k.PayloadType.ANSWER_ACK:case k.PayloadType.SET_VIDEO:case k.PayloadType.OFFER_NACK:break;default:break;}};v.prototype.$FBRTCIncomingCallController8=function(w){"use strict";var x=w.peerID,y=w.callID,z=w.msg;if(u.isWebrtcSupported()){this.$FBRTCIncomingCallController2.sendOfferAck(x,y,z);}else this.$FBRTCIncomingCallController2.sendOfferNack(x,y,z);this.$FBRTCIncomingCallController6.logCallAction(x,y,o.CallAction.RECEIVED_CALL);var aa=this.$FBRTCIncomingCallControllerb(x,y,w);if(this.$FBRTCIncomingCallController0!==null&&!this.$FBRTCIncomingCallController0.isForPeer(x)){this.$FBRTCIncomingCallControllerc(x,y,aa,k.CallEndReason.IN_ANOTHER_CALL,false,false,true);this.$FBRTCIncomingCallController1.onCallMissed(x);return;}if(!u.isWebrtcSupported()){this.$FBRTCIncomingCallControllerc(x,y,aa,k.CallEndReason.UNSUPPORTED_VERSION,false,false,false);t.showForIncomingCall(y,x);return;}this.$FBRTCIncomingCallController0=new m(x,y,aa,z);this.$FBRTCIncomingCallController0.onAnswer=this.$FBRTCIncomingCallControllerd.bind(this);this.$FBRTCIncomingCallController0.onIgnore=this.$FBRTCIncomingCallControllere.bind(this);this.$FBRTCIncomingCallController0.onTimeout=this.$FBRTCIncomingCallControllerf.bind(this);s.hideDialog();this.$FBRTCIncomingCallController0.showIncomingDialog();this.$FBRTCIncomingCallController6.logEvent(x,y,'Incoming call dialog shown');};v.prototype.$FBRTCIncomingCallController9=function(w){"use strict";var x=w.peerID,y=w.callID,z=w.msg;if(this.$FBRTCIncomingCallController0&&this.$FBRTCIncomingCallController0.isForPeerAndCall(x,y)){var aa=z.reason;if(typeof aa=='string'||aa instanceof String)aa=k.endCallReasonFromString(aa);this.$FBRTCIncomingCallController0.cancel();this.$FBRTCIncomingCallControllerc(x,y,this.$FBRTCIncomingCallController0.callSummary,aa,true,true,false);this.$FBRTCIncomingCallController0.cancel();this.$FBRTCIncomingCallController0=null;if(aa!==k.CallEndReason.OTHER_INSTANCE_HANDLED){this.$FBRTCIncomingCallController1.onCallMissed(x);this.$FBRTCIncomingCallController1.showDialog();}}};v.prototype.$FBRTCIncomingCallControllera=function(w){"use strict";var x=w.callID;t.dismiss();if(this.$FBRTCIncomingCallController0&&this.$FBRTCIncomingCallController0.isForCall(x)){this.$FBRTCIncomingCallController0.cancel();this.$FBRTCIncomingCallController0=null;}};v.prototype.$FBRTCIncomingCallControllerb=function(w,x,y){"use strict";var z=new h({peerID:w,callID:x,isCaller:false});z.onFullMessageReceived(y);z.onOfferAckSent(y.msg);return z;};v.prototype.$FBRTCIncomingCallControllerd=function(w,x,y,z,aa){"use strict";this.$FBRTCIncomingCallController6.logCallAction(w,x,o.CallAction.ANSWER_CALL);this.$FBRTCIncomingCallController2.sendOtherDismiss(x);this.$FBRTCIncomingCallController3.enableEnqueuing(w,x);this.$FBRTCIncomingCallController3.enqueueOffer(w,y);var ba=this;this.$FBRTCIncomingCallController5.drainCandidates(w,x,function(ca){ba.$FBRTCIncomingCallController3.maybeEnqueueMessage(w,x,ca);});j.openAsCallee(w,x,z,aa);this.$FBRTCIncomingCallController0=null;this.$FBRTCIncomingCallController1.showDialog();};v.prototype.$FBRTCIncomingCallControllere=function(w,x,y){"use strict";this.$FBRTCIncomingCallControllerc(w,x,y,k.CallEndReason.IGNORE_CALL,false,true,false);this.$FBRTCIncomingCallController0=null;};v.prototype.$FBRTCIncomingCallControllerf=function(w,x,y){"use strict";this.$FBRTCIncomingCallControllerc(w,x,y,k.CallEndReason.NO_ANSWER_TIMEOUT,false,false,false);this.$FBRTCIncomingCallController0=null;this.$FBRTCIncomingCallController1.onCallMissed(w);this.$FBRTCIncomingCallController1.showDialog();};v.prototype.$FBRTCIncomingCallControllerc=function(w,x,y,z,aa,ba,ca){"use strict";if(ca)this.$FBRTCIncomingCallController2.sendHangup(w,x,z);if(ba)this.$FBRTCIncomingCallController2.sendOtherDismiss(x);y.onCallEnded(z,aa);y.save(this.$FBRTCIncomingCallController4);var da=k.fullCallEndReasonString(z,aa);this.$FBRTCIncomingCallController6.logCallAction(w,x,o.CallAction.END_CALL,da);};e.exports=v;},null);
__d("ChatTabTypeaheadDataSource",["MercuryTypeaheadConstants","MercuryTypeaheadDataSource"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(l){"use strict";l=l||{};l.maxResults=g.COMPOSER_CHATTAB_MAX;h.call(this,l);this.$ChatTabTypeaheadDataSource0=true;}k.prototype.buildData=function(l){"use strict";var m=[],n=[],o=[],p=[],q=[];l.forEach(function(r){var s=j.getEntry.call(this,r);switch(s.render_type){case g.FRIEND_TYPE:m.push(r);break;case g.THREAD_TYPE:if(this.$ChatTabTypeaheadDataSource0)n.push(r);break;case g.NON_FRIEND_TYPE:o.push(r);break;case g.FB4C_TYPE:p.push(r);break;case g.PAGE_TYPE:if(this.$ChatTabTypeaheadDataSource0)q.push(r);break;default:this.logQuery({event:'chat_tab_render_type_error'});break;}},this);return j.buildData.call(this,m.concat(p,n,q,o));};k.prototype.query=function(l,m,n,o){"use strict";this.logQuery({event:'query_chat_tab',query:l});return j.query.call(this,l,m,n,o);};k.prototype.respond=function(l,m,n){"use strict";var o=j.respond.call(this,l,m,n);this.logResponse({event:'query_response_chat_tab',response_query:l,response_uids:m});return o;};k.prototype.setShowThreads=function(l){"use strict";this.$ChatTabTypeaheadDataSource0=l;};e.exports=k;},null);
__d("FlexibleScrollableArea",["DataStore","DOM","DOMDimensions","Event","Parent","Run","Style","Vector","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=30,q=100;function r(s,t,u,v,w){"use strict";this._element=s;this._tight=t;this._measureFrom=u;this._minHeight=v;this._margin=w;g.set(this._element,'FlexibleScrollableArea',this);l.onLeave(this.cleanup.bind(this));this._listener=j.listen(window,'resize',o(this.poke,q,this));this.poke();}r.prototype.poke=function(){"use strict";var s=h.find(this._element,'.uiScrollableAreaBody'),t=n.getElementDimensions(s).y+i.measureElementBox(s,'height',true,true,true),u;if(this._tight){var v=this.getMaxHeight();if(t<v+p)v+=p;u=Math.max(Math.min(t,v),this._minHeight);}else u=Math.max(this.getMaxHeight(),this._minHeight);m.set(this._element,'height',u+'px');};r.prototype.getMaxHeight=function(){"use strict";if(this._measureFrom==='bottom'){var s=n.getViewportDimensions().y,t=n.getElementPosition(this._element,'viewport').y,u=s-t;return u-this._margin;}var v=n.getElementPosition(this._element,'viewport').y+n.getElementDimensions(this._element).y;return v-this._margin;};r.prototype.cleanup=function(){"use strict";this._listener&&this._listener.remove();};r.getInstance=function(s){"use strict";var t=k.byClass(s,'flexibleScrollableArea');return t?g.get(t,'FlexibleScrollableArea'):null;};e.exports=r;},null);
__d("LoadRecommendations",["Event","AsyncRequest"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={loadOnClick:function(j){g.listen(j,'click',function(){new h().setURI('/ajax/pages/reminder/recommendations').send();});}};e.exports=i;},null);
__d("SyncRequestNotificationBeeperItemContents.react",["Animation","CloseButton.react","ImageBlock.react","NotificationUserActions","React","SyncRequest.react","SyncRequestStatusEnum","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=k.createClass({displayName:"SyncRequestNotificationBeeperItemContents",_markAsRead:function(){j.markNotificationsAsRead([this.props.beep.notificationID]);this.props.onHide();},_onClose:function(){this._markAsRead();this.props.onHide();},_doFlash:function(){new g(k.findDOMNode(this.refs.inner)).from('opacity','0').to('opacity','1').duration(200).go();},componentDidMount:function(){if(this.props.beep.rendererData.status!=m.PENDING)this.props.onReadyToHide(this.props.beep.notificationID);},componentDidUpdate:function(p){if(this.props.beep.rendererData.status!=m.PENDING&&p.beep.rendererData.status==m.PENDING)this.props.onReadyToHide(this.props.beep.notificationID);},onRequestStatusUpdate:function(p,q){if(p!=m.PENDING&&q==m.PENDING)this.props.onReadyToHide(this.props.beep.notificationID);},render:function(){var p=this.props.beep,q=p.rendererData;return (k.createElement("div",{ref:"inner"},k.createElement(h,{className:"_3soc",onClick:this._onClose,size:"medium"}),k.createElement(i,{className:"_3soj"},k.createElement("img",{src:p.actors[0].profile_picture.uri,className:"_3sok"}),k.createElement("div",{className:"_3sol"},k.createElement(l,{app:q.app,creationTime:q.creation_time,requestId:q.id.toString(),receiver:q.receiver,sender:q.sender,status:q.status,timeout:q.timeout,timeRemaining:q.time_remaining,viewerId:q.receiver.id,onStatusUpdate:this.onRequestStatusUpdate})))));}});e.exports=o;},null);
__d("LiveMessageReceiver",["Arbiter","ChannelConstants","copyProperties","emptyFunction","shield"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(m){this.eventName=m;this.subs=null;this.handler=j;this.shutdownHandler=null;this.registered=false;this.appId=1;}i(l,{getAppMessageType:function(m,n){return 'live_message/'+m+':'+n;},route:function(m){var n=function(o){var p=l.getAppMessageType(m.app_id,m.event_name);g.inform(p,o,g.BEHAVIOR_PERSISTENT);};n(m.response);}});i(l.prototype,{setAppId:function(m){this.appId=m;return this;},setHandler:function(m){this.handler=m;this._dirty();return this;},setRestartHandler:j,setShutdownHandler:function(m){this.shutdownHandler=k(m);this._dirty();return this;},_dirty:function(){if(this.registered){this.unregister();this.register();}},register:function(){var m=function(o,p){return this.handler(p);}.bind(this),n=l.getAppMessageType(this.appId,this.eventName);this.subs={};this.subs.main=g.subscribe(n,m);if(this.shutdownHandler)this.subs.shut=g.subscribe(h.ON_SHUTDOWN,this.shutdownHandler);this.registered=true;return this;},unregister:function(){if(!this.subs)return this;for(var m in this.subs)if(this.subs[m])this.subs[m].unsubscribe();this.subs=null;this.registered=false;return this;}});e.exports=l;},null);
__d("initLiveMessageReceiver",["Arbiter","ChannelConstants","LiveMessageReceiver"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();g.subscribe(h.getArbiterType('app_msg'),function(j,k){i.route(k.obj);});},null);
__d("PubContentTrendingUnitEllipsis",["DOM","DOMDimensions","concatMap","createArrayFromMixed","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l,m={add:function(p,q,r){r=r||p;g.scry(p,'br').forEach(g.remove);var s=h.getElementDimensions(r).height;if(s<=q)return p;var t,u='...',v=o(p),w=v.length-1,x=k(v[w]);while(w>=0&&s>q){t=Math.max(x.lastIndexOf(' '),x.lastIndexOf('\n'));if(t===-1)t=x.length-u.length-1;if(t<=0){n(v[w],'');w--;x=k(v[w]);}else{x=x.substr(0,t).trimRight()+u;n(v[w],x);}s=h.getElementDimensions(r).height-1;}}};function n(p,q){l=l||(p.textContent!=null?'textContent':'innerText');p[l]=q;}function o(p){if(g.isTextNode(p))return [p];return i(o,j(p.childNodes));}e.exports=m;},null);
__d("PubContentTrendingUnitTruncation",["DOM","PubContentTrendingUnitEllipsis","Style","csx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k,l={truncate:function(m){var n=g.scry(m,"._5v9v"),o=n[n.length-1];if(o){if(k===(void 0)){var p=g.find(m,"._uhk");k=i.getFloat(p,'maxHeight');}var q=g.find(m,"._5r--");h.add(o,k,q);}}};e.exports=l;},null);
__d("XPubcontentTrendingSeeMoreController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pubcontent\/trending\/see_more\/",{topic_ids:{type:"IntVector",defaultValue:[]},position:{type:"Int",required:true}});},null);
__d("NewPubcontentTrendingUnitToggle",["AsyncRequest","CSS","DOM","Event","PubContentTrendingUnitTruncation","XPubcontentTrendingSeeMoreController","Run","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=false,q=[],r,s;function t(){if(r){r.remove();r=null;}if(s){s.remove();s=null;}}var u={listenForToggle:function(v,w,x,y,z,aa){function ba(){t();p=true;if(y)h.addClass(y,"_24gw");if(w)h.hide(w);if(x)h.show(x);z.forEach(function(da){q.push(da);});var ca=(l.getURIBuilder()).setIntVector('topic_ids',q).setInt('position',aa).getURI();new g().setURI(ca).setHandler(function(){if(x)h.hide(x);i.scry(v,"._5my1").forEach(function(da){k.truncate(da);});}).send();}if(y)r=j.listen(y,'click',ba);if(w)s=j.listen(w,'click',ba);m.onLeave(t);},isToggled:function(){return p;},setIsToggled:function(v){j.fire(v,'click');},addTopicID:function(v){q.push(v);}};e.exports=u;},null);
__d("PubcontentTrendingUnitToggle",["CSS","DOM","Event","PubContentTrendingUnitTruncation","Run","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=false,o,p;function q(){if(o){o.remove();o=null;}if(p){p.remove();p=null;}}var r={listenForToggle:function(s,t,u){function v(){q();n=true;if(u)g.addClass(u,"_24gw");if(t)g.hide(t);h.scry(s,"._5my1").forEach(function(w){g.show(w);j.truncate(w);});}if(u)o=i.listen(u,'click',v);if(t)p=i.listen(t,'click',v);k.onLeave(q);},isToggled:function(){return n;}};e.exports=r;},null);
__d("XPubcontentTrendingReplaceTrendsController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pubcontent\/trending\/trending_unit\/",{is_expanded:{type:"Bool",defaultValue:false}});},null);
__d("PubcontentTrendingUnitRefresh",["AsyncRequest","PubcontentTrendingUnitToggle","XPubcontentTrendingReplaceTrendsController"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={refreshTrendingUnitWithDelay:function(k){var l=k*1000;setTimeout(function(){var m=h.isToggled(),n=(i.getURIBuilder()).setBool('is_expanded',m).getURI();new g().setURI(n).send();},l);}};e.exports=j;},null);
__d("TrendingRHCLogger",["AsyncSignal","CSS","Event","Parent","Run","BanzaiScuba","TrendingRHCConfig","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o,p,q,r,s,t,u,v,w=3,x=false,y=false;function z(ea,fa,ga,ha){var ia=new l('trending_rhc',null,{sampleRate:m.sample_rate});ia.addNormal('country',s);ia.addNormal('post_search_trending_feeds',m.post_search_trending_feeds);ia.addNormal('event',fa);ia.addNormal('position',ea);ia.addNormal('qe_group',p);if(x){var ja=ea<=w?q:v;ia.addNormal('source',ja);}else ia.addNormal('source',q);ia.addNormVector('categories',ga);ia.addNormal('topic_id',ha);ia.post();}function aa(ea,fa){var ga=ea.getAttribute('data-position');if(!ga)return;var ha=ea.getAttribute('data-categories'),ia=ha?JSON.parse(ha):null,ja=ea.getAttribute('data-topicid');z(ga,fa,ia,ja);}function ba(event){var ea=null,fa=event.getTarget(),ga=j.byClass(event.getTarget(),"_2w2e");if(ga){fa=ga;}else if(!h.hasClass(fa,"_5my2")){ea=j.byClass(fa,"_4_nl");fa=j.byClass(fa,"_5my2");}if(!fa||ea||h.hasClass(event.getTarget(),"_19_3")||h.hasClass(event.getTarget(),"_1k6k"))return;aa(fa,'click');var ha=fa.getAttribute('data-position');if(ha==='seemore'||ha==='trendingheader')if(x){y=true;}else ca();}function ca(){if(!o)return;if(x){new g('/ajax/pubcontent/trending_rhc/log_hidden',{keys:JSON.stringify(o),source:v,scores:JSON.stringify(t),query_id:u}).send();}else new g('/ajax/pubcontent/trending_rhc/log_hidden',{keys:JSON.stringify(o),source:q,scores:JSON.stringify(t),query_id:r}).send();o=null;}var da={init:function(ea,fa){q=fa.source;p=fa.qe_group;s=fa.country;o=fa.hidden_keys;r=fa.query_id;t=fa.hidden_scores;if(fa.has_litestand==='gk')x=true;var ga=i.listen(ea,'click',ba);k.onLeave(function(){ga.remove();});},initSeeMore:function(ea,fa,ga,ha,ia){o=fa;t=ga;u=ha;v=ia;var ja=i.listen(ea,'click',ba);if(y){ca();}else y=false;k.onLeave(function(){ja.remove();});},logHovercardArticleClick:function(ea,fa){z(ea,'hover_article_click',null,fa);},logHovercardFeedClick:function(ea,fa){z(ea,'hover_feed_click',null,fa);},logImpression:function(ea){aa(ea,'imp');},getSource:function(){return q;},getQueryID:function(){return r;},getSeeMoreSource:function(){return v;},getSeeMoreQueryID:function(){return u;}};e.exports=da;},null);
__d("XPubcontentTrendingHideConfirmController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pubcontent\/trending\/hide_confirm\/",{hidden_topic_id:{type:"Int",required:true},position:{type:"Int",defaultValue:0},reason:{type:"Int",required:true},source:{type:"String"},trqid:{type:"Int",defaultValue:-1}});},null);
__d("XPubcontentTrendingInsertItemController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pubcontent\/trending\/hide_options\/",{num_removed_topics:{type:"Int",defaultValue:0},trending_topic_id:{type:"Int",required:true},topic_ids:{type:"IntVector",defaultValue:[]}});},null);
__d("TrendingRHCHideForDeferredSeemore",["AsyncRequest","CSS","DOM","DOMQuery","Event","PubContentTrendingUnitTruncation","TrendingRHCLogger","URI","XPubcontentTrendingHideConfirmController","XPubcontentTrendingInsertItemController","csx","cx","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t,u,v=false,w=['webkitAnimationEnd','animationend','mozAnimationEnd','oAnimationEnd','MSAnimationEnd'];function x(da){h.removeClass(da,"_4_ni");}function y(da){da.sort(function(ea,fa){var ga=Number(ea.getAttribute('data-position')),ha=Number(fa.getAttribute('data-position'));if(ga&&ha)return ga<ha?-1:1;return 0;});return da;}function z(da,ea){var fa=j.scry(da,"._5my2"),ga=fa.filter(function(ia){var ja=Number(ia.getAttribute('data-position'));return ja>=ea;}),ha=[];ga.forEach(function(ia){var ja=Number(ia.getAttribute('data-position'));ia.setAttribute('data-position',ja-1);var ka=j.scry(ia,"._7ge");ka.forEach(function(la){var ma=n(la.getAttribute('href')).addQueryData('position',ja-1);ha.push({link:la,uri:ma.toString()});});});ha.forEach(function(ia){var ja=ia.link;ja.setAttribute('href',ia.uri);});u++;}function aa(da,ea){var fa=da[0],ga=da.filter(function(ha){return !h.hasClass(ha,"_5my1");});if(ga&&ga[0])h.addClass(ga[0],"_5my1");h.addClass(fa,"_4_ni");h.show(fa);m.logImpression(fa);w.forEach(function(event){fa.addEventListener(event,function(){l.truncate(fa);});});}function ba(da,ea){var fa=j.find(da,"^._5mym"),ga=j.scry(fa,"._5my2.hidden_elem");ga=y(ga);var ha=j.find(da,"^._5my2"),ia=i.create('div',{className:"_4_nj"});if(ga.length>=1)aa(ga,ha);var ja=Number(ha.getAttribute('data-position'));z(fa,ja);i.replace(ha,ia);var ka=(o.getURIBuilder()).setInt('reason',da.firstChild.value).setInt('hidden_topic_id',ea).setInt('position',ja);if(m.getSource())ka.setString('source',m.getSource());if(m.getQueryID())ka.setInt('trqid',m.getQueryID());var la=ka.getURI();new g().setURI(la).setRelativeTo(da).send();}var ca={initializeTrendingTopics:function(da){t=da;u=0;},addTopicID:function(da){if(t)t.push(da);},addTopicIDs:function(da){if(t)da.forEach(function(ea){t.push(ea);});},confirmHide:function(da,ea){var fa=false;s(k.listen(da,'click',function(){setTimeout(function(){if(fa)return;fa=true;ba(da,ea);},100);}));},listenForHide:function(da,ea){s(k.listen(da,'click',function(){var fa=j.find(da,"^._5my2");x(fa);var ga=j.find(fa,"._4_nl"),ha=j.find(fa,"._4_nm");h.hide(ha);h.show(ga);if(!v){v=true;var ia=(p.getURIBuilder()).setInt('trending_topic_id',ea).setIntVector('topic_ids',t).setInt('num_removed_topics',u).getURI();new g().setURI(ia).setRelativeTo(da).setHandler(function(){v=false;}).send();}}));},listenForUndo:function(da){var ea=j.find(da,"._4_nn");s(k.listen(ea,'click',function(){var fa=j.find(da,"^._5my2 ._4_nm");h.hide(da);h.show(fa);var ga=j.scry(fa,"^._5myl ._4loq");i.remove(ga[ga.length-1]);t.pop();}));},hideSeeMoreLink:function(){var da=j.scry(document,"a._5my9");if(da&&da.length>0&&!h.hasClass(da[0],'hidden_elem'))h.addClass(da[0],"_4_nk");}};e.exports=ca;},null);
__d("ReminderStory",["AsyncRequest","Arbiter","DOMQuery","Event","FlexibleScrollableArea","LayerAutoFocus","ScrollableArea","SubscriptionsHandler","UIPagelet","getActiveElement"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();function q(r,s,t,u,v){"use strict";this.$ReminderStory0=false;this.$ReminderStory1=s;this.$ReminderStory2=r;j.listen(r,'click',function(event){if(t&&i.contains(t,event.target))return;s.show();if(u)new g('/growth/reminder/logging.php').setData({context_data:u,first_click:!this.$ReminderStory0}).send();this.$ReminderStory0=true;}.bind(this));if(v)s.subscribeOnce('show',function(){o.loadFromEndpoint(v,s.getContent());});s.disableBehavior(l);s.subscribe('aftershow',function(){var w=s.getRoot(),x=i.scry(w,'#SuggestBelowInvite')[0];if(x)new g('/ajax/pages/reminder/recommendations').send();var y=s.hide.bind(s);this.$ReminderStory3=new n();this.$ReminderStory3.addSubscriptions(j.listen(window,'resize',y),j.listen(window,'scroll',y));var z=i.scry(w,'.inlineReplyTextArea');z[0]&&z[0].focus();var aa=i.scry(w,'.jewelItemNew'),ba=[];aa.forEach(function(fa){var ga=aa[fa].getAttribute('id');if(ga&&ga.endsWith('_1_req'))ba=ba.concat(ga.replace('_1_req',''));});if(ba.length>0)new g('/friends/requests/log_impressions').setData({ids:ba.join(','),ref:'reminder_box'}).send();var ca=m.getInstance(i.scry(s.getRoot(),'.uiScrollableArea')[0]),da=k.getInstance(i.scry(s.getRoot(),'.flexibleScrollableArea')[0]),ea=function(){if(da)da.poke();if(ca){ca.poke();j.fire(i.scry(s.getRoot(),'.scrollable')[0],'scroll');}};ea();h.subscribe('reflow',function(){var fa=i.scry(w,'.fbRemindersBirthdayList');if(z&&fa)for(var ga=0;ga<z.length;++ga)if(z[ga]==p()&&i.contains(fa[0],z[ga]))ea();});}.bind(this));s.subscribe('beforehide',function(){if(this.$ReminderStory3){this.$ReminderStory3.release();this.$ReminderStory3=null;}}.bind(this));}q.prototype.getDialog=function(){"use strict";return this.$ReminderStory1;};q.prototype.getRoot=function(){"use strict";return this.$ReminderStory2;};e.exports=q;},null);
__d("ReminderStoryUtils",["CSS","cx","Event","Parent"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={hideOnClick:function(l,m){i.listen(m,'click',function(){g.hide(l);});},showBalloon:function(l){var m=j.byClass(l,"egoOrganicColumn");g.addClass(m,"_1zk7");}};e.exports=k;},null);
__d("XBirthdayRemindersCounterController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/birthday\/reminder\/counter\/",{event:{type:"Enum",required:true,enumType:1}});},null);
__d("BirthdayRemindersCounter",["AsyncSignal","XBirthdayRemindersCounterController"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={logEvent:function(event){var j=h.getURIBuilder().setEnum('event',event).getURI();(new g(j)).send();}};e.exports=i;},null);
__d("XBirthdayRemindersCameraPreviewController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/birthday\/reminder\/camera\/preview\/",{photo_fbid:{type:"Int",required:true},target_id:{type:"Int",required:true}});},null);
__d("BirthdayModal",["AsyncRequest","BirthdayRemindersCounter","BirthdayRemindersCounterEvent","Button","ComposerXNUX","CSS","DataStore","DOM","Event","FileInputUploader","Focus","Layer","Parent","XBirthdayRemindersCameraPreviewController","csx","cx","goURI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();var x=null,y={},z,aa,ba={init:function(ca,da){z=da;o.listen(ca,'click',function(){h.logEvent(i.OPEN_MODAL);da.show();});},addComposers:function(ca,da){if(!da||(da!==x))y={};x=da;for(var ea in ca)if(ca.hasOwnProperty(ea))this._addComposer(n.find(ca[ea],"._5j0b"),ea);},_showInput:function(ca){var da=n.scry(ca,"._u48").pop();if(!da)return;var ea=n.find(ca,"._4ovy"),fa=n.find(ea,'.inlineReplyTextArea');l.hide(da);l.show(ea);q.set(fa);},_addComposer:function(ca,da){y[da]=ca;var ea=n.scry(ca,"._4ovw").pop();if(!ea)return;var fa=this;['click','focus'].forEach(function(ha){o.listen(ea,ha,function(event){var ia=event.getTarget();if(s.byClass(ia,"_260q"))return;fa._showInput(ca);});});var ga=n.find(ca,"._4ow2");this._addRemoveButton(ga,da);return true;},addUpcomingBirthdays:function(ca,da){o.listen(da.firstChild,'click',function(event){l.show(ca);l.hide(da);});},attachPhoto:function(ca,da,ea){var fa=y[ea];if(!fa)return;var ga=n.find(fa,"._4ovz");l.removeClass(ga,"._4ow0");var ha=n.find(fa,"._4ow1");ha.appendChild(da);n.appendContent(ga,ca);var ia=n.find(fa,"._4ow2");l.show(ia);this._showInput(fa);var ja=n.find(fa,"._30e4");j.setEnabled(ja,true);},initUploader:function(ca,da,ea,fa){var ga=ca.getInput();ca.subscribe('change',this._uploadPhoto.bind(this,ga,fa,ea));},_uploadPhoto:function(ca,da,ea){var fa=y[ea];if(!fa)return;h.logEvent(i.ADD_UPLOADED);this._showInput(fa);var ga=n.find(fa,"._4ow3"),ha=n.find(fa,"._4ow4");l.show(ga);l.hide(ha);var ia=new p(ca);ia.setURI(da.uploadURI).setData(da.uploadData).setAllowCrossOrigin(true).setUploadInParallel(true).setFiles(ca.files).send();var ja=n.find(fa,"._30e4");j.setEnabled(ja,false);var ka=r.getTopmostLayer();if(ka)ka.hide();},getCameraPreview:function(ca,da){var ea=y[da];if(!ea)return;h.logEvent(i.ADD_SELFIE);this._showInput(ea);var fa=n.find(ea,"._4ow3"),ga=n.find(ea,"._4ow4");l.show(fa);l.hide(ga);var ha=t.getURIBuilder().setInt('target_id',da).setInt('photo_fbid',ca).getURI();new g(ha).send();var ia=n.find(ea,"._30e4");j.setEnabled(ia,false);},showPhotoPicker:function(ca){ca.subscribeOnce(['show'],function(){l.addClass(z.getContentRoot(),"_30e3");}.bind(this));ca.subscribeOnce(['hide'],function(){z.show();l.removeClass(z.getContentRoot(),"_30e3");}.bind(this));},addPhotoItem:function(ca,da,ea,fa,ga){var ha=y[fa];if(!ha)return;o.listen(ca,'click',function(){h.logEvent(ga);var ia=n.find(ha,"._4ow3"),ja=n.find(ha,"._4ovz"),ka=n.find(ha,"._4ow4");l.show(ia);l.hide(ka);l.removeClass(ja,"._4ow0");var la=n.find(ha,"._4ow1");la.appendChild(ea);n.appendContent(ja,da);var ma=n.find(ha,"._4ow2");l.show(ma);this._showInput(ha);var na=r.getTopmostLayer();if(na)na.hide();}.bind(this));},_addRemoveButton:function(ca,da){var ea=y[da];if(!ea)return;o.listen(ca,'click',function(fa){fa.kill();l.hide(ca);var ga=n.find(ea,"._4ow3"),ha=n.find(ea,"._4ovz"),ia=n.find(ea,"._4ow4");l.hide(ga);l.show(ia);l.addClass(ha,"._4ow0");if(ha.firstChild)n.remove(ha.firstChild);n.scry(ea,"._4ow5").forEach(function(ja){n.remove(ja);});}.bind(this));},_resetComposer:function(ca){var da=n.find(ca,"._4ow2");da.click();var ea=n.find(ca,".uiMentionsInput");m.get(ea,'MentionsInput').reset();},finishPosting:function(ca,da,ea){if(ea)return w(window.location.href,true);var fa=y[da];if(!fa)return;this._resetComposer(fa);l.addClass(fa,"_4dgh");},cancelScheduled:function(ca,da){if(da)return w(window.location.href,true);var ea=y[ca];if(!ea)return;l.removeClass(ea,"_4dgh");},setPhotoAlbumView:function(ca){aa=ca;},setPhotoView:function(ca){if(!aa)return;var da=n.find(aa,"._5r32");if(da){l.hide(da);}else return;var ea=n.find(aa,"._375u");ea.appendChild(ca);var fa=n.find(ca,"._375v");o.listen(fa,'click',function(){l.show(da);var ga=n.find(aa,"._375w");n.remove(ga);}.bind(this));},attachFlyout:function(ca){var da=ca.getContext(),ea=n.find(ca.getContentRoot(),"._21xo"),fa=n.scry(ca.getContentRoot(),"._15p7").pop(),ga=function(){l.conditionClass(da,"_21xn",ca.isShown());};ga();ca.subscribe(['show','hide'],ga);o.listen(da,'click',function(ha){ca.conditionShow(!ca.isShown());ha.kill();});o.listen(ea,'click',function(){ca.hide();});if(fa)o.listen(fa,'click',function(){ca.hide();});},initMegaphone:function(ca,da){o.listen(da,'click',function(){n.remove(ca);k.sendMarkSeenRequest(k.UPCOMING_BIRTHDAYS_NUX);});}};e.exports=ba;},null);
__d("JewelFollowupUnit",["DOM","Arbiter","CSS","csx","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(m,n,o,p){this._followup=n;this._parentContainer=this._followup.parentNode;this._friendRequest=this._parentContainer.firstChild;o&&h.subscribe(o,function(r,s){(s.uid==m)&&this._showFollowup();}.bind(this));var q=g.scry(this._parentContainer,"._e7")[0];q&&(q.onclick=this._hideFollowup.bind(this));p&&h.subscribe(p,function(r,s){(s.uid==m)&&this._hideFollowup();}.bind(this));}k(l.prototype,{_showFollowup:function(){this._updateRequestAnimClass();i.addClass(this._followup,'active');i.addClass(this._parentContainer,'followupActivated');},_hideFollowup:function(){this._updateRequestAnimClass();i.removeClass(this._followup,'active');i.removeClass(this._parentContainer,'followupActivated');},_updateRequestAnimClass:function(){i.conditionClass(this._friendRequest,'animated',i.hasClass(this._followup,'animated'));}});e.exports=l;},null);
__d("Slideshow",["ArbiterMixin","CSS","DOM","Event","Locale","Parent","csx","cx","getActiveElement","mixin","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=p(g);for(var s in r)if(r.hasOwnProperty(s))u[s]=r[s];var t=r===null?null:r.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=r;function u(v,w){"use strict";this._root=v;this._config=w;this._currentIndex=0;this._animating=false;this._autoplayTimer=null;this._autoplayTimeout=w.autoplayTimeout;this._init();}u.prototype.getIndex=function(){"use strict";return this._currentIndex;};u.prototype.getNumItems=function(){"use strict";return this._items.length;};u.prototype.getRightArrow=function(){"use strict";if(this._config.arrows)return i.find(this._root,"a._2xw");return null;};u.prototype.getLeftArrow=function(){"use strict";if(this._config.arrows)return i.find(this._root,"a._2xx");return null;};u.prototype.page=function(v){"use strict";if(typeof v==='undefined')v='next';if(v==='next'){if(this._config.wrap||this.getIndex()<this.getNumItems()-1)this._animateTo((this.getIndex()+1)%this.getNumItems());}else if(v==='prev')if(this._config.wrap||this.getIndex()>0){var w=(this.getNumItems()+this.getIndex()-1)%this.getNumItems();this._animateTo(w);}};u.prototype.pageTo=function(v){"use strict";this._animateTo(v,q(this._setCurrent,this,v));};u.prototype.insert=function(v,w){"use strict";if(v>this._currentIndex){i.insertAfter(this._items[v-1],w);}else{i.insertBefore(this._items[v],w);this._currentIndex++;}this._items.splice(v,0,w);this._updateArrowState(this._currentIndex);this.inform('items_updated');};u.prototype.push=function(v){"use strict";this.insert(this._items.length,v);};u.prototype._init=function(){"use strict";this._container=i.find(this._root,"ul._2xq");this._items=i.scry(this._container,"li._2xr");if(this._config.arrows){j.listen(this._root,'click',this._clickListener.bind(this));var v=i.find(this._root,"a._2xw"),w=i.find(this._root,"a._2xx");this._arrowLeft=k.isRTL()?v:w;this._arrowRight=k.isRTL()?w:v;}if(this._config.autoplay){if(this._config.autoplaycontrol){j.listen(this._root,'mouseenter',this.stopAutoplay.bind(this));j.listen(this._root,'mouseleave',this.resetAutoplay.bind(this));}this.resetAutoplay();}this.subscribe(['page_start','page_end'],function(x,y){h.conditionClass(this._root,"_2xm",x==='page_start');}.bind(this));};u.prototype._clickListener=function(event){"use strict";var v=event.getTarget(),w=l.byTag(v,'a');if(w&&!h.hasClass(w,"_2xo"))if(h.hasClass(w,"_2xw")){this.page('next');}else if(h.hasClass(w,"_2xx"))this.page('prev');};u.prototype._updateArrowState=function(v){"use strict";if(!this._config.arrows)return;h.conditionClass(this._arrowRight,"_2xo",this._items.length===1);h.conditionClass(this._arrowLeft,"_2xo",this._items.length===1);};u.prototype._animateTo=function(v){"use strict";};u.prototype._setCurrent=function(v){"use strict";h.removeClass(this._items[this._currentIndex],"_2xn");h.addClass(this._items[v],"_2xn");h.removeClass(this._root,"_2xm");var w=i.scry(this._items[this._currentIndex],'a').some(function(y){return y==o();});if(w){var x=i.scry(this._items[v],'a');if(x[0])x[0].focus();}this._currentIndex=v;this._animating=false;this.inform('page_end',v);};u.prototype.startAutoplay=function(v){"use strict";this._config.autoplay=true;this._autoplayTimeout=v;this.resetAutoplay();};u.prototype.resetAutoplay=function(){"use strict";if(this._config.autoplay){clearTimeout(this._autoplayTimer);this._autoplayTimer=setTimeout(this._autoplay.bind(this),this._autoplayTimeout);}};u.prototype.stopAutoplay=function(){"use strict";clearTimeout(this._autoplayTimer);this._autoplayTimer=null;};u.prototype._autoplay=function(){"use strict";this.resetAutoplay();if(this._items.length>1)this.page();};u.prototype.setAutoplayTimeout=function(v){"use strict";this._autoplayTimeout=v;};e.exports=u;},null);
__d("Carousel",["Animation","CSS","Ease","Locale","Slideshow","Style","cx","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=j.isRTL()?'right':'left',p=i.sineInOut;for(var q in k)if(k.hasOwnProperty(q))s[q]=k[q];var r=k===null?null:k.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=k;function s(t,u){"use strict";k.call(this,t,u);this.subscribe('items_updated',this._updateItemState.bind(this));}s.prototype._updateItemState=function(t,u){"use strict";this._setContainerPos(t);l.set(this._container,'width',(this._items.length*this._config.width)+'px');};s.prototype._updateArrowState=function(t){"use strict";if(!this._config.arrows)return;var u=this._config.wrap,v=this._items.length,w=Math.floor(v/this._config.photosperframe);h.conditionClass(this._arrowRight,"_2xo",w===1||(!u&&t===w-1));h.conditionClass(this._arrowLeft,"_2xo",w===1||(!u&&t===0));};s.prototype._animate=function(t,u){"use strict";var v=(t===-1)?this._items.length-1:t,w=0;if(this._config.peek_with_offset){w=-t*(this._config.width-this._config.peek*2);if(t>0)w=w+this._config.peek-t*(this._config.item_margin/2);if(t===this._items.length-1)w+=this._config.peek;}else w=-t*this._config.width;this._animating=true;this.inform('page_start',v);new g(this._container).to(o,w).duration(this._config.animationDuration).ease(p).ondone(u).go();};s.prototype._setContainerPos=function(t){"use strict";l.set(this._container,o,-t*this._config.width+'px');};s.prototype._animateTo=function(t){"use strict";if(this._animating)return;var u=this._items.length;if((0<=t&&t<u)||!this._config.wrap){var v=(t+u)%u;this._updateArrowState(v);return this._animate(v,n(this._setCurrent,this,v));}var w=t%u,x=w?u-1:0,y=this._items[u-1];l.set(y,'position','absolute');l.set(y,o,-this._config.width+'px');if(x===0)this._setContainerPos(-1);this._animate(w,function(){l.set(y,'position','static');l.set(y,o,'auto');this._setContainerPos(x);this._setCurrent(x);}.bind(this));};e.exports=s;},null);
__d("legacy:CompactTypeaheadRenderer",["CompactTypeaheadRenderer"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();if(!a.TypeaheadRenderers)a.TypeaheadRenderers={};a.TypeaheadRenderers.compact=b('CompactTypeaheadRenderer');},3);